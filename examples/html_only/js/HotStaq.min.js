'use strict';var HotStaqWeb=function(E){function A(w){if(D[w])return D[w].exports;var y=D[w]={i:w,l:!1,exports:{}};return E[w].call(y.exports,y,y.exports,A),y.l=!0,y.exports}var D={};return A.m=E,A.c=D,A.d=function(w,y,x){A.o(w,y)||Object.defineProperty(w,y,{enumerable:!0,get:x})},A.r=function(w){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(w,Symbol.toStringTag,{value:"Module"});Object.defineProperty(w,"__esModule",{value:!0})},A.t=function(w,y){if((1&y&&(w=A(w)),8&y)||4&
y&&"object"==typeof w&&w&&w.__esModule)return w;var x=Object.create(null);if(A.r(x),Object.defineProperty(x,"default",{enumerable:!0,value:w}),2&y&&"string"!=typeof w)for(var C in w)A.d(x,C,function(q){return w[q]}.bind(null,C));return x},A.n=function(w){var y=w&&w.__esModule?function(){return w.default}:function(){return w};return A.d(y,"a",y),y},A.o=function(w,y){return Object.prototype.hasOwnProperty.call(w,y)},A.p="",A(A.s=17)}([function(E,A,D){(function(w){var y=this&&this.__extends||(x=function(h,
b){return(x=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,v){p.__proto__=v}||function(p,v){for(var B in v)Object.prototype.hasOwnProperty.call(v,B)&&(p[B]=v[B])})(h,b)},function(h,b){function p(){this.constructor=h}if("function"!=typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");x(h,b);h.prototype=null===b?Object.create(b):(p.prototype=b.prototype,new p)}),x,C=this&&this.__createBinding||(Object.create?function(h,b,p,v){void 0===
v&&(v=p);Object.defineProperty(h,v,{enumerable:!0,get:function(){return b[p]}})}:function(h,b,p,v){void 0===v&&(v=p);h[v]=b[p]}),q=this&&this.__setModuleDefault||(Object.create?function(h,b){Object.defineProperty(h,"default",{enumerable:!0,value:b})}:function(h,b){h.default=b}),l=this&&this.__importStar||function(h){if(h&&h.__esModule)return h;var b={};if(null!=h)for(var p in h)"default"!==p&&Object.prototype.hasOwnProperty.call(h,p)&&C(b,h,p);return q(b,h),b},n=this&&this.__awaiter||function(h,b,
p,v){return new (p||(p=Promise))(function(B,F){function H(I){try{L(v.next(I))}catch(G){F(G)}}function J(I){try{L(v.throw(I))}catch(G){F(G)}}function L(I){var G;I.done?B(I.value):(G=I.value,G instanceof p?G:new p(function(K){K(G)})).then(H,J)}L((v=v.apply(h,b||[])).next())})},m=this&&this.__generator||function(h,b){function p(L){return function(I){return function(G){if(v)throw new TypeError("Generator is already executing.");for(;J;)try{if(v=1,B&&(F=2&G[0]?B.return:G[0]?B.throw||((F=B.return)&&F.call(B),
0):B.next)&&!(F=F.call(B,G[1])).done)return F;switch(B=0,F&&(G=[2&G[0],F.value]),G[0]){case 0:case 1:F=G;break;case 4:return J.label++,{value:G[1],done:!1};case 5:J.label++;B=G[1];G=[0];continue;case 7:G=J.ops.pop();J.trys.pop();continue;default:if(!(F=J.trys,(F=0<F.length&&F[F.length-1])||6!==G[0]&&2!==G[0])){J=0;continue}if(3===G[0]&&(!F||G[1]>F[0]&&G[1]<F[3]))J.label=G[1];else if(6===G[0]&&J.label<F[1])J.label=F[1],F=G;else if(F&&J.label<F[2])J.label=F[2],J.ops.push(G);else{F[2]&&J.ops.pop();J.trys.pop();
continue}}G=b.call(h,J)}catch(K){G=[6,K],B=0}finally{v=F=0}if(5&G[0])throw G[1];return{value:G[0]?G[1]:void 0,done:!0}}([L,I])}}var v,B,F,H,J={label:0,sent:function(){if(1&F[0])throw F[1];return F[1]},trys:[],ops:[]};return H={next:p(0),throw:p(1),return:p(2)},"function"==typeof Symbol&&(H[Symbol.iterator]=function(){return this}),H},a=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(A,"__esModule",{value:!0});A.HotStaq=void 0;var c=l(D(6)),d=l(D(6)),
k=a(D(2)),f=a(D(18)),g=D(10),e=D(7),r=D(11),u=D(12),t=D(1),z=D(13),M=D(14),P=D(16),N=null,Q=null,Y=null,ea=function(){function h(b){void 0===b&&(b={});this.api=b.api||null;this.testerAPI=b.testerAPI||null;this.mode=b.mode||t.DeveloperMode.Production;this.pages=b.pages||{};this.components=b.components||{};this.files=b.files||{};this.hotSite=b.hotSite||null;this.apiContent="\n\t\t\t{\n\t\t\t\tvar %api_name% = %api_exported_name%.%api_name%;\n\t\t\t\tvar newHotClient = new HotClient (processor);\n\t\t\t\tvar newapi = new %api_name% (%base_url%, newHotClient);\n\t\t\t\tnewHotClient.api = newapi;\n\t\t\t\tprocessor.api = newapi;\n\t\t\t}";
this.testerApiContent="\n\t\t\tvar HotTesterAPI = HotStaqWeb.HotTesterAPI;\n\t\t\tvar newHotTesterClient = new HotClient (processor);\n\t\t\tvar newtesterapi = new HotTesterAPI (%base_tester_url%, newHotTesterClient);\n\t\t\tnewHotTesterClient.testerAPI = newtesterapi;\n\t\t\tprocessor.testerAPI = newtesterapi;";this.pageContent='<!DOCTYPE html>\n<html>\n\n<head>\n\t<title>%title%</title>\n\n\t<script type = "text/javascript" src = "%hotstaq_js_src%">\x3c/script>\n\t<script type = "text/javascript">\n\t\twindow.HotStaq = HotStaqWeb.HotStaq;\n\t\twindow.HotClient = HotStaqWeb.HotClient;\n\t\twindow.HotAPI = HotStaqWeb.HotAPI;\n\t\twindow.Hot = HotStaqWeb.Hot;\n\t\x3c/script>\n\n%apis_to_load%\n\n\t<script type = "text/javascript">\n\t\tfunction hotstaq_startApp ()\n\t\t{\n\t\t\tlet tempMode = 0;\n\n\t\t\tif (window["Hot"] != null)\n\t\t\t\ttempMode = Hot.Mode;\n\n\t\t\t%load_hot_site%\n\n\t\t\tvar processor = new HotStaq ();\n\t\t\tvar promises = [];\n\t\t\t%developer_mode%\n\n\t\t\t%api_code%\n\n\t\t\t%public_secrets%\n\t\t\t%tester_api%\n\t\t\t%load_files%\n\n\t\t\tprocessor.mode = tempMode;\n\n\t\t\tPromise.all (promises).then (function ()\n\t\t\t\t{\n\t\t\t\t\tHotStaq.displayUrl ({\n\t\t\t\t\t\t\turl: "%url%",\n\t\t\t\t\t\t\tname: "%title%",\n\t\t\t\t\t\t\tprocessor: processor,\n\t\t\t\t\t\t\targs: %args%,\n\t\t\t\t\t\t\ttesterName: %tester_name%,\n\t\t\t\t\t\t\ttesterMap: %tester_map%,\n\t\t\t\t\t\t\ttesterAPIBaseUrl: %tester_api_base_url%,\n\t\t\t\t\t\t\ttesterLaunchpadUrl: %tester_launchpad_url%\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t}\n\n\t\thotstaq_startApp ();\n\t\x3c/script>\n</head>\n\n<body>\n</body>\n\n</html>';
this.logger=new u.HotLog(u.HotLogLevel.None);this.publicKeys={};this.testers={}}return h.parseBoolean=function(b){if("true"===(b=b.toLowerCase()))return!0;if("false"===b)return!1;if("yes"===b)return!0;if("no"===b)return!1;if("yep"===b)return!0;if("nah"===b)return!1;try{if(0!=parseInt(b))return!0}catch(p){}return!1},h.getParam=function(b,p,v,B){void 0===v&&(v=!0);void 0===B&&(B=!0);p=p[b];if(null==p&&!0===v&&!0===B)throw Error("Missing required parameter ".concat(b,"."));if("string"==typeof p&&!0===
v&&""===p&&!0===B)throw Error("Missing required parameter ".concat(b,"."));return p},h.getParamDefault=function(b,p,v){b=p[b];return null==b||"string"==typeof b&&""===b?v:b},h.wait=function(b){return n(this,void 0,Promise,function(){return m(this,function(p){switch(p.label){case 0:return[4,new Promise(function(v,B){setTimeout(function(){v()},b)})];case 1:return[2,p.sent()]}})})},h.prototype.addPage=function(b){this.pages[b.name]=b},h.prototype.getPage=function(b){return this.pages[b]},h.prototype.addFile=
function(b){var p=b.name;""===p&&(p=b.localFile);""===p&&(p=b.url);this.files[p]=b},h.prototype.getFile=function(b){if(null==this.files[b])throw Error("Unable to find file ".concat(b));return this.files[b]},h.keepContext=function(b,p,v){return function(){var B=Array.prototype.slice.call(arguments);return null!=v&&B.push(v),null==p?b.apply(this,B):b.apply(p,B)}},h.prototype.addComponent=function(b){if("function"==typeof b&&(b=new b(this,this.api)),"object"==typeof b){if(null==b.name)throw Error("Component must have a name!");
if(null==b.tag)throw Error("Component ".concat(b.name," must have a tag!"));this.components[b.name]=b;this.registerComponent(b)}},h.prototype.registerComponent=function(b){if(null==b.tag||""===b.tag)throw Error("Component ".concat(b.name," must have a tag!"));customElements.define(b.tag,function(p){function v(){return p.call(this)||this}return y(v,p),Object.defineProperty(v,"observedAttributes",{get:function(){return b.observedAttributes},enumerable:!1,configurable:!0}),v.prototype.connectedCallback=
function(){return n(this,void 0,void 0,function(){var B,F,H,J,L,I,G,K,O,R,U,T,Z,V,W,fa,ca;return m(this,function(ha){switch(ha.label){case 0:return b.htmlElement=this,[4,b.output()];case 1:if(B=ha.sent(),F="",H="","string"==typeof B?F=B:(F=B.html,H=B.addFunctionsTo),J=e.HotFile.parseContent(F,!0,{outputCommands:!1}),1>(L=(new DOMParser).parseFromString(J,"text/html")).body.children.length)throw Error("No component output from ".concat(b.name));if(1<L.body.children.length)throw Error("Only a single html element can come from component ".concat(b.name,
", multiple elements were detected."));for(G in I=L.body.children[0],this.replaceWith(I),null!=b.click&&(I.onclick=b.click.bind(b)),b.events)K=b.events[G],I.addEventListener(K.type,K.func,K.options);return O=b,[4,b.onCreated(I)];case 2:return O.htmlElement=ha.sent(),null==b.handleAttributes?[3,4]:[4,b.handleAttributes(I.attributes)];case 3:return ha.sent(),[3,5];case 4:for(V=0;V<I.attributes.length;V++)R=I.attributes[V],U=R.name.toLowerCase(),T=R.value,"id"===U&&(b.name=T),"name"===U&&(b.name=T),
"value"===U&&(b.value=T);ha.label=5;case 5:Z=Object.getOwnPropertyNames(b.constructor.prototype);for(V=0;V<Z.length;V++)if("constructor"!==(W=Z[V])&&"function"==typeof b[W]){for(ca in fa=!0,r.HotComponent.prototype)if(W===ca){fa=!1;break}!0===fa&&(I[W]=h.keepContext(b[W],b),""!==H&&(document.querySelector(H)[W]=h.keepContext(b[W],b)))}return[2]}})})},v}(HTMLElement),b.elementOptions)},h.prototype.getComponent=function(b){return this.components[b]},h.addHtml=function(b,p){var v;if(null==(v="string"==
typeof b?document.querySelector(b):b))throw Error("Unable to find parent ".concat(b,"!"));if("string"==typeof p){b=(new DOMParser).parseFromString(p,"text/html");p=[];for(var B=0;B<b.body.children.length;B++)p.push(v.appendChild(b.body.children[B]));return p}return v.appendChild(p)},h.checkHotSiteName=function(b,p){void 0===p&&(p=!1);var v=(0,f.default)(b);if(null!=v.errors&&0<v.errors.length&&!0===p)throw Error("HotSite ".concat(b," has an invalid name! The name cannot be empty and must have a valid NPM module name."));
return!0},h.replaceKey=function(b,p,v){return b.replace(new RegExp("\\$\\{".concat(p,"\\}"),"g"),v)},h.getValueFromHotSiteObj=function(b,p){var v=null;if(null!=b){for(var B=0;B<p.length;B++){var F=p[B];if(null==b[F]){b=null;break}b=b[F]}null!=b&&(v=b)}return v},h.prototype.processHotSite=function(){return n(this,void 0,Promise,function(){var b,p,v,B,F,H,J,L,I,G,K,O,R,U,T,Z,V,W,fa,ca,ha,na,ja,ka,da,aa=this;return m(this,function(ia){switch(ia.label){case 0:if(h.checkHotSiteName(this.hotSite.name,!0),
b=this.hotSite.routes,p="http://127.0.0.1:8182",v=null,B=null,!1===h.isWeb&&this.mode===t.DeveloperMode.Development&&null!=this.hotSite.testing&&(F=function(X){var la=!0;null!=X.createNewTester&&(la=X.createNewTester);var ma="Tester";null!=X.tester&&(ma=X.tester);null!=X.testerName&&(ma=X.testerName);!0===la?(N=D(!function(){var ba=Error("Cannot find module './HotTesterMocha'");throw ba.code="MODULE_NOT_FOUND",ba;}()).HotTesterMocha,Q=D(!function(){var ba=Error("Cannot find module './HotTesterMochaSelenium'");
throw ba.code="MODULE_NOT_FOUND",ba;}()).HotTesterMochaSelenium,Y=D(!function(){var ba=Error("Cannot find module './HotTestSeleniumDriver'");throw ba.code="MODULE_NOT_FOUND",ba;}()).HotTestSeleniumDriver,""===X.testerAPIUrl&&(p=X.testerAPIUrl),"HotTestSeleniumDriver"===X.driver&&(B=new Y),"HotTesterMocha"===X.tester&&(v=new N(aa,ma,p,B)),"HotTesterMochaSelenium"===X.tester&&(v=new Q(aa,ma,p))):v=aa.testers[ma]},null!=this.hotSite.testing.web&&F(this.hotSite.testing.web),null!=this.hotSite.testing.api&&
F(this.hotSite.testing.api)),null!=b)for(H in b){if(J=b[H],L=new e.HotFile(J),I=new g.HotPage({processor:this,name:J.name||"",route:H,files:[L]}),null!=v&&this.mode===t.DeveloperMode.Development){if(G=J.name,K=null,null!=J.map){if("string"==typeof J.map){if(null==v.testMaps[J.map])throw Error("Test map ".concat(J.map," does not exist!"));v.testMaps[G]=v.testMaps[J.map]}else{if(K=new P.HotTestMap,O=null,J.map instanceof Array)for(O=[],R=0;R<J.map.length;R++)U=J.map[R],O.push(new P.HotTestDestination(U));
else for(T in O={},J.map)U=J.map[T],O[T]=new P.HotTestDestination(U);K.destinations=O}v.testMaps[G]=K}null!=J.destinationOrder&&(v.testMaps[G].destinationOrder=J.destinationOrder)}this.addPage(I)}if(null!=this.hotSite.apis)for(H in this.hotSite.apis)if(Z=this.hotSite.apis[H],null!=Z.map&&!1===h.isWeb&&this.mode===t.DeveloperMode.Development){G=H;K=new P.HotTestMap;K.destinations=[];for(R=0;R<Z.map.length;R++)V=Z.map[R],K.destinations.push(new P.HotTestDestination(V));if(null==v)throw Error("A tester was not created first! You must specify one in the CLI or in HotSite.json.");
v.testMaps[G]=K}if(!0!==h.isWeb)return[3,4];for(fa in W=[],this.hotSite.components)W.push(fa);ca=0;ia.label=1;case 1:return ca<W.length?(H=W[ca],ha=this.hotSite.components[H],na=ha.url,[4,(0,k.default)(na)]):[3,4];case 2:ja=ia.sent(),ka=eval(ja),this.addComponent(ka),ia.label=3;case 3:return ca++,[3,1];case 4:return null==this.hotSite.routes&&(this.hotSite.routes={}),da=!1,null!=this.hotSite.disableFileLoading&&(da=this.hotSite.disableFileLoading),!1!==da?[3,6]:[4,this.loadHotFiles(this.hotSite.files)];
case 5:return ia.sent(),[3,7];case 6:this.logger.verbose("Hotsite has file loading disabled..."),ia.label=7;case 7:return null!=v&&this.addTester(v),[2]}})})},h.prototype.loadHotSite=function(b){return n(this,void 0,Promise,function(){var p,v,B=this;return m(this,function(F){switch(F.label){case 0:return p="",!0!==h.isWeb?[3,2]:(this.logger.info("Downloading HotSite ".concat(b)),[4,(0,k.default)(b)]);case 1:return v=F.sent(),this.logger.info("Downloaded site ".concat(b)),p=v.text(),[3,4];case 2:return b=
d.normalize(b),this.logger.info("Accessing HotSite ".concat(b)),[4,new Promise(function(H,J){c.readFile(b,function(L,I){if(null!=L)throw L;L=I.toString();B.logger.info("Accessed site ".concat(b));H(L)})})];case 3:p=F.sent(),F.label=4;case 4:return this.hotSite=JSON.parse(p),this.hotSite.hotsitePath=b,[2]}})})},h.prototype.loadHotFiles=function(b,p){return void 0===p&&(p=!1),n(this,void 0,Promise,function(){var v,B,F,H,J,L,I,G;return m(this,function(K){switch(K.label){case 0:for(B in this.logger.verbose("Loading Hott files..."),
v=[],b)v.push(B);F=0;K.label=1;case 1:return F<v.length?(H=v[F],J=b[H],L=null,L=(h.isWeb,new e.HotFile({name:H})),null!=J.url&&(L.url=J.url),!1===h.isWeb&&null!=J.localFile&&(L.localFile=J.localFile),I=!0,null!=J.content&&(L.content=J.content,I=!1),!0===p&&(I=!0),!0!==I?[3,3]:(G="",""!==L.url&&(G=L.url),""!==L.localFile&&(G=L.localFile),this.logger.verbose("Loading Hott file: ".concat(G)),[4,L.load()])):[3,5];case 2:K.sent(),this.logger.verbose("Finished loading Hott file: ".concat(G)),K.label=3;
case 3:this.addFile(L),K.label=4;case 4:return F++,[3,1];case 5:return this.logger.verbose("Finished loading Hott files..."),[2]}})})},h.prototype.generateContent=function(b,p,v,B,F,H){void 0===p&&(p="");void 0===v&&(v="./");void 0===B&&(B="./js/HotStaq.min.js");void 0===F&&(F=!0);void 0===H&&(H=null);var J="",L="",I="";if(null!=this.hotSite){if(null!=this.hotSite.server.globalApi&&""!==this.hotSite.server.globalApi){var G=this.hotSite.apis[this.hotSite.server.globalApi];if(null==G)this.logger.warning("API with name ".concat(this.hotSite.server.globalApi,
" doesn't exist!"));else{var K=!0;if(null==G.jsapi&&(K=!1,this.logger.warning("API with name ".concat(this.hotSite.server.globalApi," doesn't have a jsapi set. Will not send js content to client."))),null==G.libraryName&&(K=!1,this.logger.warning("API with name ".concat(this.hotSite.server.globalApi," doesn't have a libraryName set. Will not send js content to client."))),null==G.apiName&&(K=!1,this.logger.warning("API with name ".concat(this.hotSite.server.globalApi," doesn't have a apiName set. Will not send js content to client."))),
!0===K){J+='\t<script type = "text/javascript" src = "'.concat(G.jsapi,'">\x3c/script>\n');K='""';null!=this.api&&(K='"'.concat(this.api.baseUrl,'"'));var O=(O=(O=(O=this.apiContent).replace(/%api_name%/g,G.apiName)).replace(/%api_exported_name%/g,G.libraryName)).replace(/%base_url%/g,K);L+=O}}}if(null!=this.hotSite.apis&&(O=this.hotSite.routes[b],null!=O&&null!=O.api)){G=this.hotSite.apis[O.api];if(null==G)throw Error("Unable to find API ".concat(O.api));K=!0;if(null==G.jsapi&&(K=!1,this.logger.warning("API with name ".concat(O.api,
" doesn't have a jsapi set. Will not send js content to client."))),null==G.libraryName&&(K=!1,this.logger.warning("API with name ".concat(O.api," doesn't have a libraryName set. Will not send js content to client."))),null==G.apiName&&(K=!1,this.logger.warning("API with name ".concat(O.api," doesn't have a apiName set. Will not send js content to client."))),!0===K)J+='\t<script type = "text/javascript" src = "'.concat(G.jsapi,'">\x3c/script>\n'),K='""',null!=this.api&&(K='"'.concat(this.api.baseUrl,
'"')),O=(O=(O=(O=this.apiContent).replace(/%api_name%/g,G.apiName)).replace(/%api_exported_name%/g,G.libraryName)).replace(/%base_url%/g,K),L+=O}if(null!=this.hotSite.server&&null!=this.hotSite.server.jsSrcPath&&(B=this.hotSite.server.jsSrcPath),null!=this.hotSite.publicKeys)for(var R in this.hotSite.publicKeys){G=this.hotSite.publicKeys[R];K=void 0;if("string"==typeof G)K=JSON.stringify(G);else if(!1===h.isWeb){if(null!=this.api){if(null==this.api.connection)throw Error("Cannot pass secrets from the API if there's no connection!");
O=this.api.connection;null!=G.passSecretFromAPI&&(K=JSON.stringify(O.secrets[R]))}null!=G.env&&(K=JSON.stringify(w.env[G.env]))}I+='processor.publicKeys["'.concat(R,'"] = ').concat(K,";\n")}}R=this.pageContent;K=G="";this.mode===t.DeveloperMode.Development&&(G="tempMode = HotStaqWeb.DeveloperMode.Development;",null!=this.hotSite&&null!=this.hotSite.testing&&null!=this.hotSite.testing.web&&(K=this.testerApiContent,null==this.hotSite.testing.web.testerAPIUrl&&(this.hotSite.testing.web.testerAPIUrl=
"http://127.0.0.1:8182"),K=K.replace(/%base_tester_url%/g,'"'.concat(this.hotSite.testing.web.testerAPIUrl,'"'))));O="";if(0<Object.keys(this.files).length){for(var U in O+="var files = {};\n\n",this.files){var T=this.files[U],Z='"'.concat(T.url,'"'),V="";""!==T.content&&(T=JSON.stringify(T.content),T=(T=T.replace(RegExp("\\<script","gmi"),'<scr" + "ipt')).replace(RegExp("\\<\\/script","gmi"),'</scr" + "ipt'),V=', "content": '.concat(T));O+='\t\t\tfiles["'.concat(U,'"] = { "url": ').concat(Z).concat(V,
" };\n")}O+="\t\t\tpromises.push (processor.loadHotFiles (files));\n"}R=R.replace(/%title%/g,p);!0===F&&(R=R.replace(/%args%/g,"Hot.Arguments"));null!=H&&(R=R.replace(/%args%/g,JSON.stringify(H)));p=b;H=F="";U="Tester";null!=this.hotSite&&(null!=this.hotSite.testing&&null!=this.hotSite.testing.web&&(null!=this.hotSite.testing.web.tester&&(U=this.hotSite.testing.web.tester),null!=this.hotSite.testing.web.testerName&&(U=this.hotSite.testing.web.testerName),null!=this.hotSite.testing.web.testerAPIUrl&&
(F=this.hotSite.testing.web.testerAPIUrl),null!=this.hotSite.testing.web.launchpadUrl&&(H=this.hotSite.testing.web.launchpadUrl)),null!=this.hotSite.routes&&null!=this.hotSite.routes[b]&&(p=this.hotSite.routes[b].name));return R.replace(/%hotstaq_js_src%/g,B).replace(/%developer_mode%/g,G).replace(/%tester_api%/g,K).replace(/%apis_to_load%/g,J).replace(/%load_hot_site%/g,"").replace(/%load_files%/g,O).replace(/%api_code%/g,L).replace(/%public_secrets%/g,I).replace(/%url%/g,v).replace(/%tester_name%/g,
'"'.concat(U,'"')).replace(/%tester_map%/g,'"'.concat(p,'"')).replace(/%tester_api_base_url%/g,'"'.concat(F,'"')).replace(/%tester_launchpad_url%/g,'"'.concat(H,'"'))},h.prototype.createExpressRoutes=function(b,p){void 0===p&&(p="./js/HotStaq.min.js");var v=function(H){H=B.pages[H];var J=B.generateContent(H.route,H.name,H.files[0].url,p);b.get(H.route,function(L,I){I.send(J)})},B=this,F;for(F in this.pages)v(F)},h.prototype.addTester=function(b){this.testers[b.name]=b},h.prototype.getWebTestingMaps=
function(){if(null==this.hotSite)throw Error("No HotSite was loaded!");if(null==this.hotSite.testing)throw Error("The HotSite does not have a testing object!");if(null==this.hotSite.testing.web)throw Error("The HotSite does not have a testing web object!");if(null==this.hotSite.testing.web.maps)throw Error("The HotSite testing object does not have any maps!");return this.hotSite.testing.web.maps},h.prototype.getAPITestingMaps=function(){if(null==this.hotSite)throw Error("No HotSite was loaded!");
if(null==this.hotSite.testing)throw Error("The HotSite does not have a testing object!");if(null==this.hotSite.testing.api)throw Error("The HotSite does not have a testing api object!");if(null==this.hotSite.testing.api.maps)throw Error("The HotSite testing object does not have any maps!");return this.hotSite.testing.api.maps},h.prototype.getRouteKeyFromName=function(b){var p="";if(null!=this.hotSite&&null!=this.hotSite.routes)for(var v in this.hotSite.routes)if(this.hotSite.routes[v].name===b){p=
v;break}return p},h.prototype.getRouteFromName=function(b){var p=null;b=this.getRouteKeyFromName(b);return""!==b&&(p=this.hotSite.routes[b]),p},h.prototype.executeTests=function(b,p){return n(this,void 0,Promise,function(){var v;return m(this,function(B){if(null==(v=this.testers[b]))throw Error("Unable to execute tests. Tester ".concat(b," does not exist!"));return[2,v.execute(p)]})})},h.prototype.executeAllWebTests=function(b){return n(this,void 0,Promise,function(){var p,v,B;return m(this,function(F){switch(F.label){case 0:if(p=
this.getWebTestingMaps(),null==this.testers[b])throw Error("Unable to execute tests. Tester ".concat(b," does not exist!"));v=0;F.label=1;case 1:return v<p.length?(B=p[v],[4,this.executeTests(b,B)]):[3,4];case 2:F.sent(),F.label=3;case 3:return v++,[3,1];case 4:return[2]}})})},h.prototype.executeAllAPITests=function(b){return n(this,void 0,Promise,function(){var p,v,B;return m(this,function(F){switch(F.label){case 0:if(p=this.getAPITestingMaps(),null==this.testers[b])throw Error("Unable to execute tests. Tester ".concat(b,
" does not exist!"));v=0;F.label=1;case 1:return v<p.length?(B=p[v],[4,this.executeTests(b,B)]):[3,4];case 2:F.sent(),F.label=3;case 3:return v++,[3,1];case 4:return[2]}})})},h.prototype.process=function(b,p){return void 0===p&&(p=null),n(this,void 0,Promise,function(){return m(this,function(v){switch(v.label){case 0:return[4,this.getPage(b).process(p)];case 1:return[2,v.sent()]}})})},h.processLocalFile=function(b,p,v){return void 0===p&&(p=b),void 0===v&&(v=null),n(this,void 0,Promise,function(){var B,
F,H;return m(this,function(J){switch(J.label){case 0:return B=new h,[4,(F=new e.HotFile({localFile:b})).load()];case 1:return J.sent(),H=new g.HotPage({processor:B,name:p,files:[F]}),B.addPage(H),[4,B.process(p,v)];case 2:return[2,J.sent()]}})})},h.processUrl=function(b){return n(this,void 0,Promise,function(){var p,v;return m(this,function(B){switch(B.label){case 0:return[4,(p=new e.HotFile({url:b.url})).load()];case 1:return B.sent(),v=new g.HotPage({processor:b.processor,name:b.name,files:[p],
testerName:b.testerName,testerMap:b.testerMap}),b.processor.addPage(v),[4,b.processor.process(b.name,b.args)];case 2:return[2,B.sent()]}})})},h.processContent=function(b){return n(this,void 0,Promise,function(){var p,v;return m(this,function(B){switch(B.label){case 0:return[4,(p=new e.HotFile({content:b.content})).load()];case 1:return B.sent(),v=new g.HotPage({processor:b.processor,name:b.name,files:[p]}),b.processor.addPage(v),[4,b.processor.process(b.name,b.args)];case 2:return[2,B.sent()]}})})},
h.onReady=function(b){"complete"===document.readyState||"interactive"===document.readyState?b():window.addEventListener("load",b)},h.useOutput=function(b){document.open();document.write(b);document.close()},h.waitForTesters=function(){return n(this,void 0,Promise,function(){return m(this,function(b){switch(b.label){case 0:return!1!==h.isReadyForTesting?[3,2]:[4,h.wait(10)];case 1:return b.sent(),[3,0];case 2:return null==h.onReadyForTesting?[3,4]:[4,h.onReadyForTesting()];case 3:b.sent(),b.label=
4;case 4:return[2]}})})},h.setupTesters=function(b,p){if(b.mode===t.DeveloperMode.Development&&null==b.testerAPI){null==p.testerAPIBaseUrl&&(p.testerAPIBaseUrl="");""===p.testerAPIBaseUrl&&(p.testerAPIBaseUrl="http://127.0.0.1:8182");var v=new z.HotClient(b);p=new M.HotTesterAPI(p.testerAPIBaseUrl,v);p.connection.api=p;b.testerAPI=p}},h.setupClientTesters=function(b){var p="";return b.mode===t.DeveloperMode.Development&&(p+='<script type = "text/javascript">\nfunction hotstaq_isDocumentReady ()\n{\nif (window["Hot"] != null)\n{\nif (Hot.Mode === HotStaqWeb.DeveloperMode.Development)\n{\nlet func = function ()\n\t{\n\t\tif (Hot.TesterAPI != null)\n\t\t{\n\t\t\tlet testPaths = {};\n\t\t\tlet testElements = JSON.stringify (Hot.CurrentPage.testElements);\n\t\t\tlet testMaps = JSON.stringify (Hot.CurrentPage.testMaps);\n\n\t\t\tfor (let key in Hot.CurrentPage.testPaths)\n\t\t\t{\n\t\t\t\tlet testPath = Hot.CurrentPage.testPaths[key];\n\n\t\t\t\ttestPaths[key] = testPath.toString ();\n\t\t\t}\n\n\t\t\tlet testPathsStr = JSON.stringify (testPaths);\n\n\t\t\tHot.TesterAPI.tester.pageLoaded ({\n\t\t\t\t\ttesterName: Hot.CurrentPage.testerName,\n\t\t\t\t\ttesterMap: Hot.CurrentPage.testerMap,\n\t\t\t\t\tpageName: Hot.CurrentPage.name,\n\t\t\t\t\ttestElements: testElements,\n\t\t\t\t\ttestPaths: testPathsStr\n\t\t\t\t}).then (function (resp)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (resp.error != null)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (resp.error !== "")\n\t\t\t\t\t\t\t\tthrow new Error (resp.error);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tHotStaqWeb.HotStaq.isReadyForTesting = true;\n\t\t\t\t\t});\n\t\t}\n\t};\n\nif ((document.readyState === "complete") || (document.readyState === "interactive"))\n\tfunc ();\nelse\n\tdocument.addEventListener ("DOMContentLoaded", func);\n}\n}\n}\n\nhotstaq_isDocumentReady ();\n\x3c/script>'),
p},h.displayUrl=function(b,p,v,B){return void 0===p&&(p=null),void 0===v&&(v=null),void 0===B&&(B=null),n(this,void 0,Promise,function(){var F=this;return m(this,function(H){return[2,new Promise(function(J,L){h.onReady(function(){return n(F,void 0,void 0,function(){var I,G;return m(this,function(K){switch(K.label){case 0:return(I={url:""}).name=null==p?"string"==typeof b?b:b.name:p,""===I.name&&(I.name="string"==typeof b?b:b.name),"string"==typeof b?I.url=b:(I.url=b.url,null==v&&null!=b.processor&&
(v=b.processor),null==B&&null!=b.args&&(B=b.args),null!=b.testerMap&&(I.testerMap=b.testerMap),null!=b.testerName&&(I.testerName=b.testerName),null!=b.testerAPIBaseUrl&&(I.testerAPIBaseUrl=b.testerAPIBaseUrl)),null==v&&(v=new h),h.setupTesters(v,I),I.processor=v,I.args=B,0>I.url.indexOf("hstqserve")&&(I.url+="?hstqserve=nahfam"),[4,h.processUrl(I)];case 1:return G=K.sent(),G+=h.setupClientTesters(v),h.useOutput(G),J(v),[2]}})})})})]})})},h.displayContent=function(b,p,v,B){return void 0===p&&(p=null),
void 0===v&&(v=null),void 0===B&&(B=null),n(this,void 0,Promise,function(){var F=this;return m(this,function(H){return[2,new Promise(function(J,L){h.onReady(function(){return n(F,void 0,void 0,function(){var I,G;return m(this,function(K){switch(K.label){case 0:return(I={content:""}).name=null==p?"string"==typeof b?"":b.name:p,""===I.name&&(I.name="string"==typeof b?"":b.name),"string"==typeof b?I.content=b:(I.content=b.content,null==v&&null!=b.processor&&(v=b.processor),null==B&&null!=b.args&&(B=
b.args),null!=b.testerMap&&(I.testerMap=b.testerMap),null!=b.testerName&&(I.testerName=b.testerName),null!=b.testerAPIBaseUrl&&(I.testerAPIBaseUrl=b.testerAPIBaseUrl)),null==v&&(v=new h),h.setupTesters(v,I),I.processor=v,I.args=B,[4,h.processContent(I)];case 1:return G=K.sent(),h.useOutput(G),J(v),[2]}})})})})]})})},h.isWeb=!1,h.isReadyForTesting=!1,h.onReadyForTesting=null,h}();if(A.HotStaq=ea,"undefined"!=typeof document)if(l=document.getElementsByTagName("hotstaq"),ea.isWeb=!0,void 0!==HotStaqWeb&&
(window.HotStaq=HotStaqWeb.HotStaq,window.HotClient=HotStaqWeb.HotClient,window.HotAPI=HotStaqWeb.HotAPI,window.Hot=HotStaqWeb.Hot),0<l.length){var S=l[0];setTimeout(function(){return n(this,void 0,void 0,function(){var h,b,p,v,B,F,H,J,L,I,G,K,O,R,U,T,Z,V,W,fa,ca,ha,na,ja,ka,da,aa,ia,X,la;return m(this,function(ma){if(b=(h=function(ba,qa){for(var pa=0;pa<qa.length;pa++){var oa=qa[pa];if(null!=ba.getAttribute(oa))return ba.getAttribute(oa);if(null!=ba.getAttribute("data-".concat(oa)))return ba.getAttribute("data-".concat(oa))}})(S,
["load-page","loadPage","src"])||"",p=h(S,["router"])||"",v=h(S,["name"])||"",B=h(S,["args"])||null,F=h(S,["api-library","apiLibrary"])||null,H=h(S,["api-name","apiName"])||null,J=h(S,["api-url","apiUrl"])||null,L=h(S,["tester-name","testerName"])||"HotTesterMochaSelenium",I=h(S,["tester-map","testerMap"])||null,G=h(S,["tester-api-base-url","testerApiBaseUrl"])||null,K=h(S,["tester-launchpad-url","testerLaunchpadUrl"])||null,O=!1,R=!1,U=S.innerHTML||"",T={},null!=h(S,["src"])&&(b=h(S,["src"])),null!=
h(S,["passRawUrl"])&&(R=!0),null!=h(S,["dont-reuse-processor","dontReuseProcessor"])&&(O=!0),""!==p)for(Z=document.getElementsByTagName("hotstaq-router"),V=0;V<Z.length;V++)if(W=Z[V],h(W,["name"])===p){for(fa=0;fa<W.childNodes.length;fa++)(ca=W.childNodes[fa])instanceof HTMLElement&&"ROUTE"===ca.tagName.toUpperCase()&&(ha=h(ca,["path"]),na=h(ca,["src"]),T[ha]=na);null!=T[window.location.pathname]&&(b=T[window.location.pathname]);break}if(B=null!=B?JSON.parse(B):t.Hot.Arguments,ja=!1,""!==U&&""!==
U.replace(/\s/g,"")&&(ja=!0),ka=0,null!=window.Hot&&(ka=t.Hot.Mode),da=null,!1===O&&void 0!==t.Hot&&null!=t.Hot.CurrentPage&&null!=t.Hot.CurrentPage.processor&&(da=t.Hot.CurrentPage.processor),null==da&&(da=new ea),da.mode=ka,aa={name:v,processor:da,args:B},""!==b&&(!1===R&&0>b.indexOf("hstqserve")&&(b+="?hstqserve=nahfam"),aa.url=b),null!=I&&(aa.testerMap=I,aa.testerName=L),null!=L&&(aa.testerName=L),null!=G&&(aa.testerAPIBaseUrl=G),null!=K&&(aa.testerLaunchpadUrl=K),null!=H){if(ia=new z.HotClient(da),
""===J)throw Error("api-url was not set!");X=window;null!=F&&(X=window[F]);(la=new X[H](J,ia)).connection.api=la;da.api=la}if(!1===ja){if(""===b)throw Error("The hotstaq tag must have a src, HTML contents inside it, or a router set.");ea.displayUrl(aa)}else ea.displayContent(aa);return[2]})})},50)}}).call(this,D(9))},function(E,A,D){var w=this&&this.__awaiter||function(a,c,d,k){return new (d||(d=Promise))(function(f,g){function e(t){try{u(k.next(t))}catch(z){g(z)}}function r(t){try{u(k.throw(t))}catch(z){g(z)}}
function u(t){var z;t.done?f(t.value):(z=t.value,z instanceof d?z:new d(function(M){M(z)})).then(e,r)}u((k=k.apply(a,c||[])).next())})},y=this&&this.__generator||function(a,c){function d(u){return function(t){return function(z){if(k)throw new TypeError("Generator is already executing.");for(;r;)try{if(k=1,f&&(g=2&z[0]?f.return:z[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,z[1])).done)return g;switch(f=0,g&&(z=[2&z[0],g.value]),z[0]){case 0:case 1:g=z;break;case 4:return r.label++,
{value:z[1],done:!1};case 5:r.label++;f=z[1];z=[0];continue;case 7:z=r.ops.pop();r.trys.pop();continue;default:if(!(g=r.trys,(g=0<g.length&&g[g.length-1])||6!==z[0]&&2!==z[0])){r=0;continue}if(3===z[0]&&(!g||z[1]>g[0]&&z[1]<g[3]))r.label=z[1];else if(6===z[0]&&r.label<g[1])r.label=g[1],g=z;else if(g&&r.label<g[2])r.label=g[2],r.ops.push(z);else{g[2]&&r.ops.pop();r.trys.pop();continue}}z=c.call(a,r)}catch(M){z=[6,M],f=0}finally{k=g=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([u,
t])}}var k,f,g,e,r={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return e={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e};E=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(A,"__esModule",{value:!0});A.Hot=A.DeveloperMode=void 0;var x,C=D(7),q=D(0),l=D(8),n=E(D(20)),m=E(D(2));!function(a){a[a.Production=0]="Production";a[a.Development=1]="Development"}(x=A.DeveloperMode||
(A.DeveloperMode={}));D=function(){function a(){}return a.include=function(c,d){return void 0===d&&(d=null),w(this,void 0,Promise,function(){var k,f,g;return y(this,function(e){switch(e.label){case 0:return!0===q.HotStaq.isWeb&&"string"==typeof c&&-1<(k=c.toLowerCase()).indexOf(".hott")&&0>k.indexOf("nahfam")&&(c+="?hstqserve=nahfam"),g=(f=a).echo,[4,a.getFile(c,d)];case 1:return g.apply(f,[e.sent()]),[2]}})})},a.runFile=function(c,d){return void 0===d&&(d=null),w(this,void 0,Promise,function(){var k,
f,g;return y(this,function(e){switch(e.label){case 0:return k=a.CurrentPage.processor.getFile(c),(f=k).page=this.CurrentPage,[4,f.process(d)];case 1:return g=e.sent(),a.echo(g),[2]}})})},a.getFile=function(c,d){return void 0===d&&(d=null),w(this,void 0,Promise,function(){var k;return y(this,function(f){switch(f.label){case 0:return k=null,"string"==typeof c?(k=new C.HotFile,!0===q.HotStaq.isWeb?k.url=c:k.localFile=c):k=c,[4,k.load()];case 1:return f.sent(),k.page=this.CurrentPage,[4,k.process(d)];
case 2:return[2,f.sent()]}})})},a.apiCall=function(c,d,k){return void 0===d&&(d=null),void 0===k&&(k="POST"),w(this,void 0,Promise,function(){var f;return y(this,function(g){switch(g.label){case 0:if(f=null,null==a.CurrentPage)throw Error("Current page is null!");if(null==a.CurrentPage.processor)throw Error("Current page's processor is null!");if(null==a.CurrentPage.processor.api)throw Error("Current page's processor api is null! Did you forget to set the API name or URL?");return null==a.CurrentPage.processor.api?
[3,2]:[4,a.CurrentPage.processor.api.makeCall(c,d,k)];case 1:f=g.sent(),g.label=2;case 2:return[2,f]}})})},a.jsonRequest=function(c,d,k){return void 0===d&&(d=null),void 0===k&&(k="POST"),w(this,void 0,Promise,function(){var f,g;return y(this,function(e){switch(e.label){case 0:return e.trys.push([0,3,,4]),[4,(0,m.default)(c,{method:k,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(d)})];case 1:if(!1===(f=e.sent()).ok)throw Error("".concat(f.status,": ").concat(f.statusText));
return[4,f.json()];case 2:return[2,e.sent()];case 3:return g=e.sent(),[2,JSON.stringify({error:"".concat(g.message," - Could not fetch ").concat(c)})];case 4:return[2]}})})},a.httpRequest=function(c,d){return void 0===d&&(d=void 0),w(this,void 0,Promise,function(){return y(this,function(k){switch(k.label){case 0:return[4,(0,m.default)(c,d)];case 1:return[2,k.sent()]}})})},a.echo=function(c){a.Output+=c},a.displayCSS=function(){for(var c=0;c<a.CSS.length;c++){var d=a.cssStr;d=d.replace(/%CSS_FILE%/g,
a.CSS[c]);a.echo(d)}},a.displayJSFiles=function(){for(var c=0;c<a.JSFiles.length;c++){var d=a.jsFileStr;d=d.replace(/%JS_FILE%/g,a.JSFiles[c]);a.echo(d)}},a.displayJSScripts=function(){for(var c=0;c<a.JSScripts.length;c++){var d=a.jsScriptsStr;d=d.replace(/%JS_CODE%/g,a.JSScripts[c]);a.echo(d)}},a.CurrentPage=null,a.Arguments=null,a.DeveloperMode=x,a.HotTestElement=l.HotTestElement,a.Mode=x.Production,a.API=null,a.TesterAPI=null,a.Output="",a.Data={},a.Cookies=n.default,a.PublicKeys={},a.cssStr='<link rel = "stylesheet" href = "%CSS_FILE%" />',
a.CSS=[],a.JSFiles=[],a.JSScripts=[],a.jsFileStr='<script type = "text/javascript" src = "%JS_FILE%">\x3c/script>',a.jsScriptsStr='<script type = "text/javascript">%JS_CODE%\x3c/script>',a}();A.Hot=D},function(E,A){var D="undefined"!=typeof self?self:this,w=function(){function y(){this.fetch=!1;this.DOMException=D.DOMException}return y.prototype=D,new y}();!function(y){!function(x){function C(h){if("string"!=typeof h&&(h=String(h)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(h))throw new TypeError("Invalid character in header field name");
return h.toLowerCase()}function q(h){return"string"!=typeof h&&(h=String(h)),h}function l(h){var b={next:function(){var p=h.shift();return{done:void 0===p,value:p}}};return t&&(b[Symbol.iterator]=function(){return b}),b}function n(h){this.map={};h instanceof n?h.forEach(function(b,p){this.append(p,b)},this):Array.isArray(h)?h.forEach(function(b){this.append(b[0],b[1])},this):h&&Object.getOwnPropertyNames(h).forEach(function(b){this.append(b,h[b])},this)}function m(h){if(h.bodyUsed)return Promise.reject(new TypeError("Already read"));
h.bodyUsed=!0}function a(h){return new Promise(function(b,p){h.onload=function(){b(h.result)};h.onerror=function(){p(h.error)}})}function c(h){var b=new FileReader,p=a(b);return b.readAsArrayBuffer(h),p}function d(h){if(h.slice)return h.slice(0);var b=new Uint8Array(h.byteLength);return b.set(new Uint8Array(h)),b.buffer}function k(){return this.bodyUsed=!1,this._initBody=function(h){var b;(this._bodyInit=h)?"string"==typeof h?this._bodyText=h:M&&Blob.prototype.isPrototypeOf(h)?this._bodyBlob=h:P&&
FormData.prototype.isPrototypeOf(h)?this._bodyFormData=h:u&&URLSearchParams.prototype.isPrototypeOf(h)?this._bodyText=h.toString():N&&M&&(b=h)&&DataView.prototype.isPrototypeOf(b)?(this._bodyArrayBuffer=d(h.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):N&&(ArrayBuffer.prototype.isPrototypeOf(h)||Y(h))?this._bodyArrayBuffer=d(h):this._bodyText=h=Object.prototype.toString.call(h):this._bodyText="";this.headers.get("content-type")||("string"==typeof h?this.headers.set("content-type","text/plain;charset=UTF-8"):
this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(h)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},M&&(this.blob=function(){var h=m(this);if(h)return h;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},
this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(c)}),this.text=function(){var h,b,p,v=m(this);if(v)return v;if(this._bodyBlob)return h=this._bodyBlob,b=new FileReader,p=a(b),b.readAsText(h),p;if(this._bodyArrayBuffer){h=Promise;b=h.resolve;p=new Uint8Array(this._bodyArrayBuffer);v=Array(p.length);for(var B=0;B<p.length;B++)v[B]=String.fromCharCode(p[B]);p=v.join("");return b.call(h,p)}if(this._bodyFormData)throw Error("could not read FormData body as text");
return Promise.resolve(this._bodyText)},P&&(this.formData=function(){return this.text().then(g)}),this.json=function(){return this.text().then(JSON.parse)},this}function f(h,b){var p,v,B=(b=b||{}).body;if(h instanceof f){if(h.bodyUsed)throw new TypeError("Already read");this.url=h.url;this.credentials=h.credentials;b.headers||(this.headers=new n(h.headers));this.method=h.method;this.mode=h.mode;this.signal=h.signal;B||null==h._bodyInit||(B=h._bodyInit,h.bodyUsed=!0)}else this.url=String(h);if(this.credentials=
b.credentials||this.credentials||"same-origin",!b.headers&&this.headers||(this.headers=new n(b.headers)),this.method=(p=b.method||this.method||"GET",v=p.toUpperCase(),-1<ea.indexOf(v)?v:p),this.mode=b.mode||this.mode||null,this.signal=b.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&B)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(B)}function g(h){var b=new FormData;return h.trim().split("&").forEach(function(p){if(p){var v=p.split("=");
p=v.shift().replace(/\+/g," ");v=v.join("=").replace(/\+/g," ");b.append(decodeURIComponent(p),decodeURIComponent(v))}}),b}function e(h,b){b||(b={});this.type="default";this.status=void 0===b.status?200:b.status;this.ok=200<=this.status&&300>this.status;this.statusText="statusText"in b?b.statusText:"OK";this.headers=new n(b.headers);this.url=b.url||"";this._initBody(h)}function r(h,b){return new Promise(function(p,v){function B(){H.abort()}var F=new f(h,b);if(F.signal&&F.signal.aborted)return v(new x.DOMException("Aborted",
"AbortError"));var H=new XMLHttpRequest;H.onload=function(){var J,L,I={status:H.status,statusText:H.statusText,headers:(J=H.getAllResponseHeaders()||"",L=new n,J.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(G){var K=G.split(":");if(G=K.shift().trim())K=K.join(":").trim(),L.append(G,K)}),L)};I.url="responseURL"in H?H.responseURL:I.headers.get("X-Request-URL");p(new e("response"in H?H.response:H.responseText,I))};H.onerror=function(){v(new TypeError("Network request failed"))};H.ontimeout=
function(){v(new TypeError("Network request failed"))};H.onabort=function(){v(new x.DOMException("Aborted","AbortError"))};H.open(F.method,F.url,!0);"include"===F.credentials?H.withCredentials=!0:"omit"===F.credentials&&(H.withCredentials=!1);"responseType"in H&&M&&(H.responseType="blob");F.headers.forEach(function(J,L){H.setRequestHeader(L,J)});F.signal&&(F.signal.addEventListener("abort",B),H.onreadystatechange=function(){4===H.readyState&&F.signal.removeEventListener("abort",B)});H.send(void 0===
F._bodyInit?null:F._bodyInit)})}var u="URLSearchParams"in y,t="Symbol"in y&&"iterator"in Symbol,z;if(z="FileReader"in y&&"Blob"in y)try{z=(new Blob,!0)}catch(h){z=!1}var M=z,P="FormData"in y,N="ArrayBuffer"in y;if(N)var Q="[object Int8Array];[object Uint8Array];[object Uint8ClampedArray];[object Int16Array];[object Uint16Array];[object Int32Array];[object Uint32Array];[object Float32Array];[object Float64Array]".split(";"),Y=ArrayBuffer.isView||function(h){return h&&-1<Q.indexOf(Object.prototype.toString.call(h))};
n.prototype.append=function(h,b){h=C(h);b=q(b);var p=this.map[h];this.map[h]=p?p+", "+b:b};n.prototype.delete=function(h){delete this.map[C(h)]};n.prototype.get=function(h){return h=C(h),this.has(h)?this.map[h]:null};n.prototype.has=function(h){return this.map.hasOwnProperty(C(h))};n.prototype.set=function(h,b){this.map[C(h)]=q(b)};n.prototype.forEach=function(h,b){for(var p in this.map)this.map.hasOwnProperty(p)&&h.call(b,this.map[p],p,this)};n.prototype.keys=function(){var h=[];return this.forEach(function(b,
p){h.push(p)}),l(h)};n.prototype.values=function(){var h=[];return this.forEach(function(b){h.push(b)}),l(h)};n.prototype.entries=function(){var h=[];return this.forEach(function(b,p){h.push([p,b])}),l(h)};t&&(n.prototype[Symbol.iterator]=n.prototype.entries);var ea="DELETE GET HEAD OPTIONS POST PUT".split(" ");f.prototype.clone=function(){return new f(this,{body:this._bodyInit})};k.call(f.prototype);k.call(e.prototype);e.prototype.clone=function(){return new e(this._bodyInit,{status:this.status,
statusText:this.statusText,headers:new n(this.headers),url:this.url})};e.error=function(){var h=new e(null,{status:0,statusText:""});return h.type="error",h};var S=[301,302,303,307,308];e.redirect=function(h,b){if(-1===S.indexOf(b))throw new RangeError("Invalid status code");return new e(null,{status:b,headers:{location:h}})};x.DOMException=y.DOMException;try{new x.DOMException}catch(h){x.DOMException=function(b,p){this.message=b;this.name=p;this.stack=Error(b).stack},x.DOMException.prototype=Object.create(Error.prototype),
x.DOMException.prototype.constructor=x.DOMException}r.polyfill=!0;y.fetch||(y.fetch=r,y.Headers=n,y.Request=f,y.Response=e);x.Headers=n;x.Request=f;x.Response=e;x.fetch=r;Object.defineProperty(x,"__esModule",{value:!0})}({})}(w);w.fetch.ponyfill=!0;delete w.fetch.polyfill;(A=w.fetch).default=w.fetch;A.fetch=w.fetch;A.Headers=w.Headers;A.Request=w.Request;A.Response=w.Response;E.exports=A},function(E,A,D){var w=this&&this.__awaiter||function(q,l,n,m){return new (n||(n=Promise))(function(a,c){function d(g){try{f(m.next(g))}catch(e){c(e)}}
function k(g){try{f(m.throw(g))}catch(e){c(e)}}function f(g){var e;g.done?a(g.value):(e=g.value,e instanceof n?e:new n(function(r){r(e)})).then(d,k)}f((m=m.apply(q,l||[])).next())})},y=this&&this.__generator||function(q,l){function n(f){return function(g){return function(e){if(m)throw new TypeError("Generator is already executing.");for(;k;)try{if(m=1,a&&(c=2&e[0]?a.return:e[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,e[1])).done)return c;switch(a=0,c&&(e=[2&e[0],c.value]),e[0]){case 0:case 1:c=
e;break;case 4:return k.label++,{value:e[1],done:!1};case 5:k.label++;a=e[1];e=[0];continue;case 7:e=k.ops.pop();k.trys.pop();continue;default:if(!(c=k.trys,(c=0<c.length&&c[c.length-1])||6!==e[0]&&2!==e[0])){k=0;continue}if(3===e[0]&&(!c||e[1]>c[0]&&e[1]<c[3]))k.label=e[1];else if(6===e[0]&&k.label<c[1])k.label=c[1],c=e;else if(c&&k.label<c[2])k.label=c[2],k.ops.push(e);else{c[2]&&k.ops.pop();k.trys.pop();continue}}e=l.call(q,k)}catch(r){e=[6,r],a=0}finally{m=c=0}if(5&e[0])throw e[1];return{value:e[0]?
e[1]:void 0,done:!0}}([f,g])}}var m,a,c,d,k={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d};Object.defineProperty(A,"__esModule",{value:!0});A.HotServer=A.HotServerType=void 0;var x,C=D(0);!function(q){q[q.HTTP=0]="HTTP";q[q.WebSockets=1]="WebSockets";q[q.Generate=2]="Generate"}(x=A.HotServerType||(A.HotServerType={}));E=function(){function q(l){l instanceof
C.HotStaq?(this.processor=l,this.serverType="Server",this.api=null,this.listenAddress="0.0.0.0",this.ports={http:80,https:443},this.ssl={cert:"",key:"",ca:""},this.redirectHTTPtoHTTPS=!0,this.type=x.HTTP,this.logger=l.logger,this.secrets={}):(this.processor=l.processor,this.serverType=l.serverType||"Server",this.api=l.api||null,this.listenAddress=l.listenAddress||"0.0.0.0",this.ports=l.ports||{http:80,https:443},this.ssl=l.ssl||{cert:"",key:"",ca:""},this.redirectHTTPtoHTTPS=null==l.redirectHTTPtoHTTPS||
l.redirectHTTPtoHTTPS,this.type=l.type||x.HTTP,this.logger=l.logger,this.secrets=l.secrets||{})}return q.prototype.setAPI=function(l){return w(this,void 0,Promise,function(){return y(this,function(n){return this.processor.api=l,this.api=l,[2]})})},q}();A.HotServer=E},function(E,A,D){Object.defineProperty(A,"__esModule",{value:!0});A.HotRoute=void 0;var w=D(5);E=function(){function y(x,C,q){void 0===q&&(q=[]);this.onAuthorizeUser=this.onPostRegister=this.onRegister=this.onPreRegister=null;this.connection=
x;this.logger=null;null!=this.connection&&null!=this.connection.processor&&(this.logger=this.connection.processor.logger);this.route=C;this.description="";this.version="v1";this.prefix="";this.authCredentials=null;this.methods=q;this.errors={not_authorized:y.createError("Not authorized."),no_server_execute_function:y.createError("Missing server execute function.")}}return y.createError=function(x){return{error:x}},y.prototype.addMethod=function(x,C,q,l){void 0===C&&(C=null);void 0===q&&(q=w.HTTPMethod.POST);
void 0===l&&(l=null);"string"==typeof x&&(x=new w.HotRouteMethod(this,x,C,q,null,null,null,l));x instanceof w.HotRouteMethod||(null==x.route&&(x.route=this),x=new w.HotRouteMethod(x));this.methods.push(x)},y.prototype.getMethod=function(x){for(var C=null,q=0;q<this.methods.length;q++){var l=this.methods[q];if(l.name===x){C=l;break}}return C},y}();A.HotRoute=E},function(E,A,D){Object.defineProperty(A,"__esModule",{value:!0});A.HotRouteMethod=A.HTTPMethod=void 0;var w,y=D(1),x=D(4),C=D(3);!function(q){q.GET=
"get";q.POST="post"}(w=A.HTTPMethod||(A.HTTPMethod={}));E=function(){function q(l,n,m,a,c,d,k,f){void 0===n&&(n="");void 0===m&&(m=null);void 0===a&&(a=w.POST);void 0===c&&(c=null);void 0===d&&(d=null);void 0===k&&(k=null);void 0===f&&(f=null);if(l instanceof x.HotRoute)var g=l;else{if(g=l.route,null!=l.type&&(a=l.type),null!=l.name&&(n=l.name),null!=l.description&&(this.description=l.description),null!=l.returns&&("string"==typeof l.returns?this.returns={type:"string",required:!0,description:l.returns}:
this.returns=l.returns),null!=l.parameters)for(var e in this.parameters={},l.parameters){var r=l.parameters[e];"string"==typeof r?this.parameters[e]={type:r,required:!1,description:""}:(null==r.type&&(r.type="string"),this.parameters[e]=r)}null!=l.authCredentials&&(k=l.authCredentials);null!=l.onServerExecute&&(m=l.onServerExecute);null!=l.onServerAuthorize&&(c=l.onServerAuthorize);null!=l.onRegister&&(d=l.onRegister);null!=l.onPostRegister&&(this.onPostRegister=l.onPostRegister);null!=l.onServerExecute&&
(this.onServerExecute=l.onServerExecute);null!=l.onClientExecute&&(this.onClientExecute=l.onClientExecute);null!=l.testCases&&(f=l.testCases)}if(""===n)throw Error("All route methods must have a name!");if(this.route=g,this.name=n,this.type=a,this.isRegistered=!1,this.executeSetup=!1,this.authCredentials=k,this.onServerAuthorize=c,this.onRegister=d,this.testCases={},this.route.connection.processor.mode===y.DeveloperMode.Development&&null!=f)if(f instanceof Array)for(e=0;e<f.length;e++)"string"==typeof(l=
f[e])?(this.addTestCase(l,f[e+1]),e++):this.addTestCase(l);else for(e in f)l=f[e],this.addTestCase(l);this.route.connection instanceof C.HotServer&&(this.onServerExecute=m)}return q.prototype.addTestCase=function(l,n){if(void 0===n&&(n=null),"string"!=typeof l)"function"!=typeof l?this.testCases[l.name]=l:(n=Object.keys(this.testCases).length,m="".concat(this.route.route,"/").concat(this.name," test case ").concat(n),this.testCases[m]={name:m,func:l});else{var m=l;this.testCases[m]={name:m,func:n}}},
q}();A.HotRouteMethod=E},function(E,A){},function(E,A,D){var w=this&&this.__createBinding||(Object.create?function(a,c,d,k){void 0===k&&(k=d);Object.defineProperty(a,k,{enumerable:!0,get:function(){return c[d]}})}:function(a,c,d,k){void 0===k&&(k=d);a[k]=c[d]}),y=this&&this.__setModuleDefault||(Object.create?function(a,c){Object.defineProperty(a,"default",{enumerable:!0,value:c})}:function(a,c){a.default=c});E=this&&this.__importStar||function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var d in a)"default"!==
d&&Object.prototype.hasOwnProperty.call(a,d)&&w(c,a,d);return y(c,a),c};var x=this&&this.__awaiter||function(a,c,d,k){return new (d||(d=Promise))(function(f,g){function e(t){try{u(k.next(t))}catch(z){g(z)}}function r(t){try{u(k.throw(t))}catch(z){g(z)}}function u(t){var z;t.done?f(t.value):(z=t.value,z instanceof d?z:new d(function(M){M(z)})).then(e,r)}u((k=k.apply(a,c||[])).next())})},C=this&&this.__generator||function(a,c){function d(u){return function(t){return function(z){if(k)throw new TypeError("Generator is already executing.");
for(;r;)try{if(k=1,f&&(g=2&z[0]?f.return:z[0]?f.throw||((g=f.return)&&g.call(f),0):f.next)&&!(g=g.call(f,z[1])).done)return g;switch(f=0,g&&(z=[2&z[0],g.value]),z[0]){case 0:case 1:g=z;break;case 4:return r.label++,{value:z[1],done:!1};case 5:r.label++;f=z[1];z=[0];continue;case 7:z=r.ops.pop();r.trys.pop();continue;default:if(!(g=r.trys,(g=0<g.length&&g[g.length-1])||6!==z[0]&&2!==z[0])){r=0;continue}if(3===z[0]&&(!g||z[1]>g[0]&&z[1]<g[3]))r.label=z[1];else if(6===z[0]&&r.label<g[1])r.label=g[1],
g=z;else if(g&&r.label<g[2])r.label=g[2],r.ops.push(z);else{g[2]&&r.ops.pop();r.trys.pop();continue}}z=c.call(a,r)}catch(M){z=[6,M],f=0}finally{k=g=0}if(5&z[0])throw z[1];return{value:z[0]?z[1]:void 0,done:!0}}([u,t])}}var k,f,g,e,r={label:0,sent:function(){if(1&g[0])throw g[1];return g[1]},trys:[],ops:[]};return e={next:d(0),throw:d(1),return:d(2)},"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e},q=this&&this.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};
Object.defineProperty(A,"__esModule",{value:!0});A.HotFile=void 0;var l=E(D(6)),n=q(D(2)),m=D(1);D=function(){function a(c){void 0===c&&(c={});this.page=c.page||null;this.name=c.name||"";this.url=c.url||"";this.localFile=c.localFile||"";this.content=c.content||"";this.throwAllErrors=c.throwAllErrors||!1}return a.prototype.setContent=function(c){this.content=c},a.prototype.getContent=function(){return this.content},a.httpGet=function(c){return x(this,void 0,Promise,function(){var d,k;return C(this,
function(f){switch(f.label){case 0:return f.trys.push([0,3,,4]),[4,(0,n.default)(c)];case 1:if(!1===(d=f.sent()).ok)throw Error("".concat(d.status,": ").concat(d.statusText));return[4,d.text()];case 2:return[2,f.sent()];case 3:return k=f.sent(),[2,JSON.stringify({error:"".concat(k.message," - Could not fetch ").concat(c)})];case 4:return[2]}})})},a.prototype.loadUrl=function(){return x(this,void 0,Promise,function(){var c;return C(this,function(d){switch(d.label){case 0:return c=this,[4,a.httpGet(this.url)];
case 1:return c.content=d.sent(),[2,this.content]}})})},a.prototype.loadLocalFile=function(){return x(this,void 0,Promise,function(){var c=this;return C(this,function(d){return[2,new Promise(function(k,f){l.readFile(c.localFile,function(g,e){if(null!=g)throw g;c.content=e.toString();k(c.content)})})]})})},a.prototype.load=function(){return x(this,void 0,Promise,function(){var c;return C(this,function(d){switch(d.label){case 0:return c="",""===this.url?[3,2]:[4,this.loadUrl()];case 1:c=d.sent(),d.label=
2;case 2:return""===this.localFile?[3,4]:[4,this.loadLocalFile()];case 3:c=d.sent(),d.label=4;case 4:return[2,c]}})})},a.processContent=function(c,d,k,f,g,e){void 0===g&&(g=2);void 0===e&&(e=2);for(var r=d.exec(c),u=0,t="";null!=r;){var z=d.lastIndex+e,M=c.substr(u,r.index-g-u);u=z;t+=f(M);t+=k(r[0]);r=d.exec(c)}return t+f(c.substr(u))},a.processNestedContent=function(c,d,k,f,g,e,r,u){void 0===r&&(r=2);void 0===u&&(u=1);for(var t=c.indexOf(d),z=0,M=c.indexOf(f,t),P="";-1<t;){var N=c.indexOf(k,t),
Q=0;if(""!==f)for(var Y=c.lastIndexOf(f,N-u);-1<Y&&Y!==M;)Y=c.lastIndexOf(f,Y-u),Q++;if(0<Q){for(N=M=c.indexOf(k,N+u);-1<M&&0<Q&&!(0>N)&&!(c.lastIndexOf(d,N-u)>M);)M=N,N=c.indexOf(k,M+u),Q--;N=M}P+=e(c.substr(z,t-z));P+=g(c.substr(t+r,N-(t+r)));t=c.indexOf(d,N+u);M=c.indexOf(f,t);z=N+u}return P+e(c.substr(z))},a.parseContent=function(c,d,k){void 0===k&&(k=null);null==k&&(k={outputCommands:!0,allowStringify:!0});var f="JSON.stringify (",g=")";return!1===k.allowStringify&&(f="",g=""),a.processContent(c,
RegExp("(?=\\<\\*)([\\s\\S]*?)(?=\\*\\>)","g"),function(e){return e=e.substr(2),"".concat(e)},function(e){if(""===e)return"";e=a.processNestedContent(e,"!{","}","{",function(u){return"*&&%*%@#@!".concat(u,"*&!#%@!@*!")},function(u){return u});e=a.processNestedContent(e,"STR{","}","{",function(u){return!0===k.outputCommands?"*&&%*%@#@!echoOutput (JSON.stringify(".concat(u,"), ").concat(d,");*&!#%@!@*!"):"*&&%*%@#@!".concat(f).concat(u).concat(g,", ").concat(d,");*&!#%@!@*!")},function(u){return u},
4,1);e=a.processNestedContent(e,"${","}","{",function(u){var t="";return!0===k.outputCommands?(t="*&&%*%@#@!try { Hot.echo (".concat(u,'); }catch (ex){Hot.echo ("");}*&!#%@!@*!'),!0===d&&(t="*&&%*%@#@!Hot.echo (".concat(u,");*&!#%@!@*!"))):t="*&&%*%@#@!".concat(u,"*&!#%@!@*!"),t},function(u){return u});var r="";m.Hot.Mode===m.DeveloperMode.Production&&(r=a.processNestedContent(e,"?(",")","(",function(u){return""},function(u){return u}));m.Hot.Mode===m.DeveloperMode.Development&&(r=a.processNestedContent(e,
"?(",")","(",function(u){var t="";try{JSON.parse(u),t=!0===k.allowStringify?JSON.stringify(u):"".concat(u)}catch(M){t="".concat(u)}if(!0===k.outputCommands)u="*&&%*%@#@!{\nconst testElm = createTestElement (".concat(t,');\nHot.echo (`data-test-object-name = "${testElm.name}" data-test-object-func = "${testElm.func}" data-test-object-value = "${testElm.value}"`);\n}*&!#%@!@*!\n');else{u=t;t=null;try{var z=u;if("string"==typeof u&&(z=JSON.parse(u)),"string"==typeof z&&(t=new m.Hot.HotTestElement(z)),
z instanceof Array&&(t=new m.Hot.HotTestElement(z[0],z[1],z[2])),null!=z.name&&(t=new m.Hot.HotTestElement(z)),null!=m.Hot.CurrentPage.testElements[t.name])throw Error("Test element ".concat(t.name," already exists!"));}catch(M){throw Error("Error processing test element ".concat(u," in ").concat(m.Hot.CurrentPage.name,". Error: ").concat(M.message));}u=t;u='*&&%*%@#@!data-test-object-name = "'.concat(u.name,'" data-test-object-func = "').concat(u.func,'" data-test-object-value = "').concat(u.value,
'"*&!#%@!@*!')}return u},function(u){return u}));e=a.processNestedContent(r,"*&&%*%@#@!","*&!#%@!@*!","*&&%*%@#@!",function(u){return u},function(u){u=!0===k.allowStringify?JSON.stringify(u):u;return!0===k.outputCommands?"echoOutput (".concat(u,", ").concat(d,");\n"):u},10,10);return e=(e=e.replace(/\*&&%\*%@#@!/g,"")).replace(/\*&!#%@!@\*!/g,"")},0)},a.prototype.process=function(c){return void 0===c&&(c=null),x(this,void 0,Promise,function(){var d,k,f,g,e,r,u,t,z,M,P;return C(this,function(N){switch(N.label){case 0:d=
this.content,m.Hot.Mode=this.page.processor.mode,m.Hot.Arguments=c,m.Hot.CurrentPage=this.page,m.Hot.PublicKeys=this.page.processor.publicKeys,m.Hot.API=this.page.getAPI(),m.Hot.TesterAPI=this.page.getTesterAPI(),k=a.parseContent(d,this.throwAllErrors),f=null,N.label=1;case 1:if(N.trys.push([1,3,,4]),g="\n\t\t\tvar Hot = arguments[0];\n\t\t\tvar PassedHotFile = arguments[1];\n\n\t\t\t","string"==typeof c)throw Error("The passing arguments cannot be a string!");for(e in c)"",u=c[e],t=JSON.stringify(u),
r="var ".concat(e," = ").concat(t,";\n"),g+=r;return""===(z=this.name)&&(z=this.localFile),""===z&&(z=this.url),g+='\n\n\t\t\tfunction echoOutput (content, throwErrors)\n\t\t\t{\n\t\t\t\tif (throwErrors == null)\n\t\t\t\t\tthrowErrors = true;\n\n\t\t\t\tif (throwErrors === true)\n\t\t\t\t{\n\t\t\t\t\tHot.echo (content);\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tHot.echo (content);\n\t\t\t\t}\n\t\t\t\tcatch (ex)\n\t\t\t\t{\n\t\t\t\t\tHot.echo ("");\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfunction createTestElement (foundStr)\n\t\t\t{\n\t\t\t\tlet testElm = null;\n\n\t\t\t\ttry\n\t\t\t\t{\n\t\t\t\t\tlet obj = foundStr;\n\n\t\t\t\t\tif (typeof (foundStr) === "string")\n\t\t\t\t\t\tobj = JSON.parse (foundStr);\n\n\t\t\t\t\tif (typeof (obj) === "string")\n\t\t\t\t\t\ttestElm = new Hot.HotTestElement (obj);\n\n\t\t\t\t\tif (obj instanceof Array)\n\t\t\t\t\t\ttestElm = new Hot.HotTestElement (obj[0], obj[1], obj[2]);\n\n\t\t\t\t\tif (obj["name"] != null)\n\t\t\t\t\t\ttestElm = new Hot.HotTestElement (obj);\n\n\t\t\t\t\tif (Hot.CurrentPage.testElements[testElm.name] != null)\n\t\t\t\t\t\tthrow new Error (`Test element ${testElm.name} already exists!`);\n\n\t\t\t\t\tHot.CurrentPage.addTestElement (testElm);\n\t\t\t\t}\n\t\t\t\tcatch (ex)\n\t\t\t\t{\n\t\t\t\t\tthrow new Error (\n\t\t\t`Error processing test element ${foundStr} in ${Hot.CurrentPage.name}. Error: ${ex.message}`\n\t\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\treturn (testElm);\n\t\t\t}\n\n\t\t\tasync function runContent (CurrentHotFile)\n\t\t\t{\n',
g+=k,g+="\n\t\t\t}\n\n\t\t\treturn (runContent (PassedHotFile).then (() =>\n\t\t\t{\n\t\t\t\treturn ({\n\t\t\t\t\t\thot: Hot,\n\t\t\t\t\t\toutput: Hot.Output,\n\t\t\t\t\t\tdata: JSON.stringify (Hot.Data)\n\t\t\t\t\t});\n\t\t\t}));",[4,(new Function(g)).apply(this,[m.Hot,this])];case 2:return f=N.sent(),[3,4];case 3:throw M=N.sent(),SyntaxError,M;case 4:return m.Hot.Data=f.hot.Data,P=f.output,m.Hot.Output="",[2,P]}})})},a}();A.HotFile=D},function(E,A,D){Object.defineProperty(A,"__esModule",{value:!0});
A.HotTestElement=A.HotTestElementOptions=void 0;A.HotTestElementOptions=function(w){void 0===w&&(w={});this.mustBeVisible=w.mustBeVisible||!0;this.ignoreMissingElementError=w.ignoreMissingElementError||!1};A.HotTestElement=function(w,y,x){void 0===y&&(y="");void 0===x&&(x=null);"string"==typeof w?(this.name=w,this.func=y,this.value=x):(this.name=w.name,this.func=w.func||y,this.value=w.value||x)}},function(E,A){function D(){throw Error("setTimeout has not been defined");}function w(){throw Error("clearTimeout has not been defined");
}function y(f){if(n===setTimeout)return setTimeout(f,0);if((n===D||!n)&&setTimeout)return n=setTimeout,setTimeout(f,0);try{return n(f,0)}catch(g){try{return n.call(null,f,0)}catch(e){return n.call(this,f,0)}}}function x(){d&&a&&(d=!1,a.length?c=a.concat(c):k=-1,c.length&&C())}function C(){if(!d){var f=y(x);d=!0;for(var g=c.length;g;){a=c;for(c=[];++k<g;)a&&a[k].run();k=-1;g=c.length}a=null;d=!1;(function(e){if(m===clearTimeout)return clearTimeout(e);if((m===w||!m)&&clearTimeout)return m=clearTimeout,
clearTimeout(e);try{m(e)}catch(r){try{return m.call(null,e)}catch(u){return m.call(this,e)}}})(f)}}function q(f,g){this.fun=f;this.array=g}function l(){}E=E.exports={};try{var n="function"==typeof setTimeout?setTimeout:D}catch(f){n=D}try{var m="function"==typeof clearTimeout?clearTimeout:w}catch(f){m=w}!0;var a,c=[],d=!1,k=-1;E.nextTick=function(f){var g=Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)g[e-1]=arguments[e];c.push(new q(f,g));1!==c.length||d||y(C)};
q.prototype.run=function(){this.fun.apply(null,this.array)};E.title="browser";E.browser=!0;E.env={};E.argv=[];E.version="";E.versions={};E.on=l;E.addListener=l;E.once=l;E.off=l;E.removeListener=l;E.removeAllListeners=l;E.emit=l;E.prependListener=l;E.prependOnceListener=l;E.listeners=function(f){return[]};E.binding=function(f){throw Error("process.binding is not supported");};E.cwd=function(){return"/"};E.chdir=function(f){throw Error("process.chdir is not supported");};E.umask=function(){return 0}},
function(E,A,D){var w=this&&this.__awaiter||function(q,l,n,m){return new (n||(n=Promise))(function(a,c){function d(g){try{f(m.next(g))}catch(e){c(e)}}function k(g){try{f(m.throw(g))}catch(e){c(e)}}function f(g){var e;g.done?a(g.value):(e=g.value,e instanceof n?e:new n(function(r){r(e)})).then(d,k)}f((m=m.apply(q,l||[])).next())})},y=this&&this.__generator||function(q,l){function n(f){return function(g){return function(e){if(m)throw new TypeError("Generator is already executing.");for(;k;)try{if(m=
1,a&&(c=2&e[0]?a.return:e[0]?a.throw||((c=a.return)&&c.call(a),0):a.next)&&!(c=c.call(a,e[1])).done)return c;switch(a=0,c&&(e=[2&e[0],c.value]),e[0]){case 0:case 1:c=e;break;case 4:return k.label++,{value:e[1],done:!1};case 5:k.label++;a=e[1];e=[0];continue;case 7:e=k.ops.pop();k.trys.pop();continue;default:if(!(c=k.trys,(c=0<c.length&&c[c.length-1])||6!==e[0]&&2!==e[0])){k=0;continue}if(3===e[0]&&(!c||e[1]>c[0]&&e[1]<c[3]))k.label=e[1];else if(6===e[0]&&k.label<c[1])k.label=c[1],c=e;else if(c&&k.label<
c[2])k.label=c[2],k.ops.push(e);else{c[2]&&k.ops.pop();k.trys.pop();continue}}e=l.call(q,k)}catch(r){e=[6,r],a=0}finally{m=c=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([f,g])}}var m,a,c,d,k={label:0,sent:function(){if(1&c[0])throw c[1];return c[1]},trys:[],ops:[]};return d={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(d[Symbol.iterator]=function(){return this}),d};Object.defineProperty(A,"__esModule",{value:!0});A.HotPage=void 0;var x=D(1),C=D(0);E=function(){function q(l){l instanceof
C.HotStaq?(this.processor=l,this.name="",this.testerName="",this.testerMap="",this.route="",this.files=[],this.testElements={},this.testPaths={}):(this.processor=l.processor,this.name=l.name||"",this.testerName=l.testerName||"",this.testerMap=l.testerMap||"",this.route=l.route||"",this.files=l.files||[],this.testElements=l.testElements||{},this.testPaths=l.testPaths||{})}return q.prototype.addFile=function(l){return w(this,void 0,Promise,function(){return y(this,function(n){return l.page=this,this.files.push(l),
[2]})})},q.prototype.getAPI=function(){return this.processor.api},q.prototype.getTesterAPI=function(){return this.processor.testerAPI},q.prototype.load=function(l){return w(this,void 0,Promise,function(){var n;return y(this,function(m){switch(m.label){case 0:n=0,m.label=1;case 1:return n<this.files.length?[4,this.files[n].load()]:[3,4];case 2:m.sent(),m.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},q.prototype.process=function(l){return void 0===l&&(l=null),w(this,void 0,Promise,function(){var n,
m,a,c;return y(this,function(d){switch(d.label){case 0:n="",m=0,d.label=1;case 1:return m<this.files.length?(a=this.files[m],x.Hot.Output="",a.page=this,c=n,[4,a.process(l)]):[3,4];case 2:n=c+d.sent(),d.label=3;case 3:return m++,[3,1];case 4:return[2,n]}})})},q.prototype.addTestElement=function(l){if(null!=this.testElements[l.name])throw Error("Test element ".concat(l.name," already exists!"));this.testElements[l.name]=l},q.prototype.getTestElement=function(l){if(null==this.testElements[l])throw Error("Test element ".concat(l,
" doest not exist!"));return this.testElements[l]},q.prototype.createTestPath=function(l,n){if(null!=this.testPaths[l])throw Error("Test path ".concat(l," already exists!"));this.testPaths[l]=n},q}();A.HotPage=E},function(E,A,D){var w=this&&this.__awaiter||function(C,q,l,n){return new (l||(l=Promise))(function(m,a){function c(f){try{k(n.next(f))}catch(g){a(g)}}function d(f){try{k(n.throw(f))}catch(g){a(g)}}function k(f){var g;f.done?m(f.value):(g=f.value,g instanceof l?g:new l(function(e){e(g)})).then(c,
d)}k((n=n.apply(C,q||[])).next())})},y=this&&this.__generator||function(C,q){function l(k){return function(f){return function(g){if(n)throw new TypeError("Generator is already executing.");for(;d;)try{if(n=1,m&&(a=2&g[0]?m.return:g[0]?m.throw||((a=m.return)&&a.call(m),0):m.next)&&!(a=a.call(m,g[1])).done)return a;switch(m=0,a&&(g=[2&g[0],a.value]),g[0]){case 0:case 1:a=g;break;case 4:return d.label++,{value:g[1],done:!1};case 5:d.label++;m=g[1];g=[0];continue;case 7:g=d.ops.pop();d.trys.pop();continue;
default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==g[0]&&2!==g[0])){d=0;continue}if(3===g[0]&&(!a||g[1]>a[0]&&g[1]<a[3]))d.label=g[1];else if(6===g[0]&&d.label<a[1])d.label=a[1],a=g;else if(a&&d.label<a[2])d.label=a[2],d.ops.push(g);else{a[2]&&d.ops.pop();d.trys.pop();continue}}g=q.call(C,d)}catch(e){g=[6,e],m=0}finally{n=a=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([k,f])}}var n,m,a,c,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c=
{next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(A,"__esModule",{value:!0});A.HotComponent=void 0;var x=D(0);E=function(){function C(q,l){void 0===l&&(l=null);q instanceof x.HotStaq||null==q?(this.processor=q,this.htmlElement=null,this.name="",this.tag="",this.api=null,this.elementOptions=void 0,this.observedAttributes=[],this.type="",this.value=null,this.events={}):(this.processor=q.processor,this.htmlElement=q.htmlElement||
null,this.name=q.name||"",this.tag=q.tag||this.name,this.api=q.api||null,this.elementOptions=q.elementOptions||void 0,this.observedAttributes=q.observedAttributes||[],this.type=q.type||"",this.value=q.value||null,this.events={});null!=l&&(this.api=l)}return C.prototype.onCreated=function(q){return w(this,void 0,Promise,function(){return y(this,function(l){return[2,q]})})},C}();A.HotComponent=E},function(E,A,D){var w;Object.defineProperty(A,"__esModule",{value:!0});A.HotLog=A.HotLogLevel=void 0;(function(y){y[y.Info=
0]="Info";y[y.Warning=1]="Warning";y[y.Error=2]="Error";y[y.Verbose=3]="Verbose";y[y.All=4]="All";y[y.None=5]="None"})(w=A.HotLogLevel||(A.HotLogLevel={}));E=function(){function y(x){void 0===x&&(x=w.All);this.logLevel=x}return y.prototype.log=function(x,C){this.logLevel===w.Verbose&&(x===w.Error&&this.error(C),x===w.Warning&&this.warning(C),x!==w.Info&&x!==w.Verbose||this.info(C));this.logLevel===w.All&&(x===w.Error&&this.error(C),x===w.Warning&&this.warning(C),x===w.Info&&this.info(C));this.logLevel===
w.Error&&x===w.Error&&this.error(C);this.logLevel===w.Warning&&x===w.Warning&&this.warning(C);this.logLevel===w.Info&&x===w.Info&&this.info(C)},y.prototype.verbose=function(x){this.logLevel===w.Verbose&&console.info(x)},y.prototype.info=function(x){this.logLevel!==w.All&&this.logLevel!==w.Verbose&&this.logLevel!==w.Info||console.info(x)},y.prototype.warning=function(x){this.logLevel!==w.All&&this.logLevel!==w.Verbose&&this.logLevel!==w.Warning||console.warn(x)},y.prototype.error=function(x){if(this.logLevel===
w.All||this.logLevel===w.Verbose||this.logLevel===w.Error){var C="";"string"==typeof x?C=x:(null!=x.message&&(C=x.message),null!=x.stack&&(C=x.stack));console.error(C)}},y}();A.HotLog=E},function(E,A,D){Object.defineProperty(A,"__esModule",{value:!0});A.HotClient=void 0;var w=D(3);A.HotClient=function(y){this.processor=y;this.testerAPI=this.api=null;this.type=w.HotServerType.HTTP;this.logger=y.logger}},function(E,A,D){var w=this&&this.__extends||(y=function(m,a){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(c,d){c.__proto__=d}||function(c,d){for(var k in d)Object.prototype.hasOwnProperty.call(d,k)&&(c[k]=d[k])})(m,a)},function(m,a){function c(){this.constructor=m}if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");y(m,a);m.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)}),y,x=this&&this.__awaiter||function(m,a,c,d){return new (c||(c=Promise))(function(k,f){function g(u){try{r(d.next(u))}catch(t){f(t)}}
function e(u){try{r(d.throw(u))}catch(t){f(t)}}function r(u){var t;u.done?k(u.value):(t=u.value,t instanceof c?t:new c(function(z){z(t)})).then(g,e)}r((d=d.apply(m,a||[])).next())})},C=this&&this.__generator||function(m,a){function c(r){return function(u){return function(t){if(d)throw new TypeError("Generator is already executing.");for(;e;)try{if(d=1,k&&(f=2&t[0]?k.return:t[0]?k.throw||((f=k.return)&&f.call(k),0):k.next)&&!(f=f.call(k,t[1])).done)return f;switch(k=0,f&&(t=[2&t[0],f.value]),t[0]){case 0:case 1:f=
t;break;case 4:return e.label++,{value:t[1],done:!1};case 5:e.label++;k=t[1];t=[0];continue;case 7:t=e.ops.pop();e.trys.pop();continue;default:if(!(f=e.trys,(f=0<f.length&&f[f.length-1])||6!==t[0]&&2!==t[0])){e=0;continue}if(3===t[0]&&(!f||t[1]>f[0]&&t[1]<f[3]))e.label=t[1];else if(6===t[0]&&e.label<f[1])e.label=f[1],f=t;else if(f&&e.label<f[2])e.label=f[2],e.ops.push(t);else{f[2]&&e.ops.pop();e.trys.pop();continue}}t=a.call(m,e)}catch(z){t=[6,z],k=0}finally{d=f=0}if(5&t[0])throw t[1];return{value:t[0]?
t[1]:void 0,done:!0}}([r,u])}}var d,k,f,g,e={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g};Object.defineProperty(A,"__esModule",{value:!0});A.HotTesterAPI=void 0;var q=D(15),l=D(4),n=D(5);E=function(m){function a(c,d,k){void 0===d&&(d=null);void 0===k&&(k=null);c=m.call(this,c,d,k)||this;c.executeEventsUsing=q.EventExecutionType.HotAPI;d=new l.HotRoute(d,
"tester");return d.addMethod({name:"pageLoaded",onServerExecute:c.pageLoaded,parameters:{testerName:{required:!0,type:"string",description:"The name of the tester executing the test."},testerMap:{required:!0,type:"string",description:"The tester map executing the test."},pageName:{required:!0,type:"string",description:"The name of the page executing the test."},testElements:{required:!0,type:"array",description:"The test elements on the page."},testPaths:{required:!0,type:"array",description:"The test paths on the page."}},
returns:"Returns true as an acknowledgement."}),d.addMethod({name:"executeTests",onServerExecute:c.executeTests,parameters:{testerName:{required:!0,type:"string",description:"The name of the tester executing the test."},testerMap:{required:!0,type:"object",description:"The tester map to execute."}},returns:"Returns true when tests are complete."}),d.addMethod({name:"heartbeat",type:n.HTTPMethod.GET,onServerExecute:c.heartbeat,returns:"Returns true as an acknowledgement."}),c.addRoute(d),c}return w(a,
m),a.prototype.pageLoaded=function(c,d,k,f,g){return x(this,void 0,Promise,function(){var e,r,u,t,z,M,P,N;return C(this,function(Q){switch(Q.label){case 0:for(r in e={testerName:f.testerName,testerMap:f.testerMap,pageName:f.pageName,testElements:f.testElements,testPathsStrs:f.testPaths},e)if(u=e[r],t=!1,null==u&&(t=!0),""!=e.testerName&&""!==e.testerMap&&""!==e.testElements&&""!==e.testPathsStrs||(t=!0),!0===t)throw Error("TesterAPI: Object ".concat(r," was not passed."));for(r in e.testElements=
JSON.parse(e.testElements),e.testPathsStrs=JSON.parse(e.testPathsStrs),z={},e.testPathsStrs)M=eval(e.testPathsStrs[r]),z[r]=M;if(P=this.connection.processor.testers[e.testerName],null==P)throw Error("TesterAPI: Tester ".concat(e.testerMap," does not exist!"));if(N=P.testMaps[e.testerMap],null==N)throw Error("TesterAPI: Tester map ".concat(e.testerMap," does not exist!"));return N.pages[e.pageName]={testElements:{},testPaths:{}},N.pages[e.pageName].testElements=e.testElements,N.pages[e.pageName].testPaths=
z,P.finishedLoading=!0,null==P.onFinishedLoading?[3,2]:[4,P.onFinishedLoading()];case 1:Q.sent(),Q.label=2;case 2:return[2,!0]}})})},a.prototype.executeTests=function(c,d,k,f,g){return x(this,void 0,Promise,function(){var e,r,u;return C(this,function(t){switch(t.label){case 0:if(e=f.testerName,r=f.testerMap,null==e||null==r)throw Error("TesterAPI: Not all required json objects were passed.");if(""===e||""===r)throw Error("TesterAPI: Not all required json objects were passed.");return null==(u=this.connection).executeTests?
[3,2]:[4,u.executeTests(e,r)];case 1:t.sent(),t.label=2;case 2:return[2,!0]}})})},a.prototype.heartbeat=function(c,d,k,f,g){return x(this,void 0,Promise,function(){return C(this,function(e){return[2,!0]})})},a}(q.HotAPI);A.HotTesterAPI=E},function(E,A,D){var w=this&&this.__awaiter||function(m,a,c,d){return new (c||(c=Promise))(function(k,f){function g(u){try{r(d.next(u))}catch(t){f(t)}}function e(u){try{r(d.throw(u))}catch(t){f(t)}}function r(u){var t;u.done?k(u.value):(t=u.value,t instanceof c?t:
new c(function(z){z(t)})).then(g,e)}r((d=d.apply(m,a||[])).next())})},y=this&&this.__generator||function(m,a){function c(r){return function(u){return function(t){if(d)throw new TypeError("Generator is already executing.");for(;e;)try{if(d=1,k&&(f=2&t[0]?k.return:t[0]?k.throw||((f=k.return)&&f.call(k),0):k.next)&&!(f=f.call(k,t[1])).done)return f;switch(k=0,f&&(t=[2&t[0],f.value]),t[0]){case 0:case 1:f=t;break;case 4:return e.label++,{value:t[1],done:!1};case 5:e.label++;k=t[1];t=[0];continue;case 7:t=
e.ops.pop();e.trys.pop();continue;default:if(!(f=e.trys,(f=0<f.length&&f[f.length-1])||6!==t[0]&&2!==t[0])){e=0;continue}if(3===t[0]&&(!f||t[1]>f[0]&&t[1]<f[3]))e.label=t[1];else if(6===t[0]&&e.label<f[1])e.label=f[1],f=t;else if(f&&e.label<f[2])e.label=f[2],e.ops.push(t);else{f[2]&&e.ops.pop();e.trys.pop();continue}}t=a.call(m,e)}catch(z){t=[6,z],k=0}finally{d=f=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([r,u])}}var d,k,f,g,e={label:0,sent:function(){if(1&f[0])throw f[1];return f[1]},
trys:[],ops:[]};return g={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g};E=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(A,"__esModule",{value:!0});A.HotAPI=A.EventExecutionType=void 0;var x,C=E(D(2)),q=D(3),l=D(4),n=D(5);!function(m){m[m.HotRoute=0]="HotRoute";m[m.HotMethod=1]="HotMethod";m[m.HotAPI=2]="HotAPI"}(x=A.EventExecutionType||(A.EventExecutionType={}));D=function(){function m(a,
c,d){void 0===c&&(c=null);void 0===d&&(d=null);this.connection=c;this.description="";this.baseUrl=a;this.createFunctions=!0;this.executeEventsUsing=x.HotRoute;this.db=d;this.userAuth=this.authCredentials=null;this.routes={};this.onPostRegister=this.onPreRegister=null}return m.prototype.setDBSchema=function(a){if(null==this.connection.api)throw Error("No API has been set!");if(null==this.connection.api.db)throw Error("No database has been set for API base url ".concat(this.connection.api.baseUrl));
this.connection.api.db.schema=a},m.prototype.getDB=function(){if(null==this.connection.api.db)throw Error("No database has been set for API base url ".concat(this.connection.api.baseUrl));return this.connection.api.db},m.prototype.getDBSchema=function(){if(null==this.connection.api.db)throw Error("No database has been set for API base url ".concat(this.connection.api.baseUrl));return this.connection.api.db.schema},m.prototype.addRoute=function(a,c,d){var k=this;void 0===c&&(c=null);void 0===d&&(d=
null);var f="";if(a instanceof l.HotRoute?(f=a.route,this.routes[a.route]=a):(f=a,null==this.routes[f]&&(this.routes[f]=new l.HotRoute(this.connection,f)),c instanceof n.HotRouteMethod?this.routes[f].addMethod(c):this.routes[f].addMethod(new n.HotRouteMethod(this.routes[f],c,d))),this.routes[f].connection=this.connection,!0===this.createFunctions){var g=this[f];null==g&&(g={});a=function(r){var u=e.routes[f],t=e.routes[f].methods[r];g[t.name]=function(z){var M=t.type,P="";""!==u.version&&(P+="/".concat(u.version));
""!==u.route&&(P+="/".concat(u.route));""!==t.name&&(P+="/".concat(t.name));var N=null;if(null!=k.authCredentials&&(N=k.authCredentials),null!=t.authCredentials?N=t.authCredentials:null!=t.route.authCredentials&&(N=t.route.authCredentials),null==N&&"undefined"!=typeof Hot&&null!=Hot&&null!=Hot.API&&null!=Hot.API[u.route]&&null!=Hot.API[u.route].authCredentials&&(N=Hot.API[u.route].authCredentials),null!=N)for(var Q in N){var Y=N[Q];null==z[Q]&&(z[Q]=Y)}return k.makeCall.apply(k,[P,z,M])}};var e=this;
for(c=0;c<this.routes[f].methods.length;c++)a(c);this[f]=g}},m.prototype.registerRoute=function(a){return w(this,void 0,Promise,function(){return y(this,function(c){switch(c.label){case 0:return this.connection instanceof q.HotServer?[4,this.connection.registerRoute(a)]:[3,2];case 1:c.sent(),c.label=2;case 2:return[2]}})})},m.prototype.registerRoutes=function(){return w(this,void 0,Promise,function(){var a,c,d,k,f;return y(this,function(g){switch(g.label){case 0:for(c in a=[],this.routes)a.push(c);
d=0;g.label=1;case 1:return d<a.length?(k=a[d],f=this.routes[k],[4,this.registerRoute(f)]):[3,4];case 2:g.sent(),g.label=3;case 3:return d++,[3,1];case 4:return[2]}})})},m.prototype.makeCall=function(a,c,d){return void 0===d&&(d="POST"),w(this,void 0,Promise,function(){var k,f,g;return y(this,function(e){switch(e.label){case 0:"/"===(k=this.baseUrl)[k.length-1]&&(k=k.substr(0,k.length-1)),"/"!==a[0]&&(k+="/"),k+=a,d=d.toUpperCase(),f={method:d,headers:{Accept:"application/json","Content-Type":"application/json"}},
"GET"!==d&&"HEAD"!==d&&(f.body=JSON.stringify(c)),g=null,e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,C.default)(k,f)];case 2:return g=e.sent(),[3,4];case 3:throw e.sent();case 4:return[4,g.json()];case 5:return[2,e.sent()]}})})},m}();A.HotAPI=D},function(E,A,D){Object.defineProperty(A,"__esModule",{value:!0});A.HotTestMap=A.HotTestDestination=void 0;var w=function q(x,C){void 0===x&&(x="");void 0===C&&(C=!0);"string"==typeof x?(this.destination=x,this.autoStart=C):x instanceof q?(this.destination=
x.destination,this.autoStart=x.autoStart):(this.destination=x.path,this.autoStart=x.autoStart)};A.HotTestDestination=w;A.HotTestMap=function(x,C,q){if(void 0===x&&(x=[]),void 0===C&&(C={}),void 0===q&&(q=[]),x instanceof Array){this.destinations=[];for(var l=0;l<x.length;l++){var n=x[l];this.destinations.push(new w(n))}}else for(l in this.destinations={},x)n=x[l],this.destinations[l]=new w(n);this.destinationOrder=q;this.pages=C}},function(E,A,D){Object.defineProperty(A,"__esModule",{value:!0});A=
D(0);var w=D(1),y=D(11),x=D(7),C=D(12),q=D(10),l=D(15),n=D(4),m=D(5),a=D(3),c=D(13),d=D(21),k=D(8),f=D(22),g=D(14);D=D(16);A.HotStaq.isWeb=!0;E.exports.HotStaq=A.HotStaq;E.exports.Hot=w.Hot;E.exports.DeveloperMode=w.DeveloperMode;E.exports.HotComponent=y.HotComponent;E.exports.HotAPI=l.HotAPI;E.exports.EventExecutionType=l.EventExecutionType;E.exports.HotFile=x.HotFile;E.exports.HotLog=C.HotLog;E.exports.HotLogLevel=C.HotLogLevel;E.exports.HotPage=q.HotPage;E.exports.HotRoute=n.HotRoute;E.exports.HotRouteMethod=
m.HotRouteMethod;E.exports.HTTPMethod=m.HTTPMethod;E.exports.HotServer=a.HotServer;E.exports.HotServerType=a.HotServerType;E.exports.HotClient=c.HotClient;E.exports.HotTester=f.HotTester;E.exports.HotTesterAPI=g.HotTesterAPI;E.exports.HotTestMap=D.HotTestMap;E.exports.HotTestDestination=D.HotTestDestination;E.exports.HotTestElement=k.HotTestElement;E.exports.HotTestElementOptions=k.HotTestElementOptions;E.exports.HotTestDriver=d.HotTestDriver},function(E,A,D){var w=RegExp("^(?:@([^/]+?)[/])?([^/]+?)$"),
y=D(19),x=["node_modules","favicon.ico"];(E.exports=function(q){var l=[],n=[];if(null===q)return n.push("name cannot be null"),C(l,n);if(void 0===q)return n.push("name cannot be undefined"),C(l,n);if("string"!=typeof q)return n.push("name must be a string"),C(l,n);if(q.length||n.push("name length must be greater than zero"),q.match(/^\./)&&n.push("name cannot start with a period"),q.match(/^_/)&&n.push("name cannot start with an underscore"),q.trim()!==q&&n.push("name cannot contain leading or trailing spaces"),
x.forEach(function(c){q.toLowerCase()===c&&n.push(c+" is a blacklisted name")}),y.forEach(function(c){q.toLowerCase()===c&&l.push(c+" is a core module name")}),214<q.length&&l.push("name can no longer contain more than 214 characters"),q.toLowerCase()!==q&&l.push("name can no longer contain capital letters"),/[~'!()*]/.test(q.split("/").slice(-1)[0])&&l.push('name can no longer contain special characters ("~\'!()*")'),encodeURIComponent(q)!==q){var m=q.match(w);if(m){var a=m[1];m=m[2];if(encodeURIComponent(a)===
a&&encodeURIComponent(m)===m)return C(l,n)}n.push("name can only contain URL-friendly characters")}return C(l,n)}).scopedPackagePattern=w;var C=function(q,l){q={validForNewPackages:0===l.length&&0===q.length,validForOldPackages:0===l.length,warnings:q,errors:l};return q.warnings.length||delete q.warnings,q.errors.length||delete q.errors,q}},function(E){E.exports=JSON.parse('["assert","buffer","child_process","cluster","console","constants","crypto","dgram","dns","domain","events","fs","http","https","module","net","os","path","process","punycode","querystring","readline","repl","stream","string_decoder","timers","tls","tty","url","util","v8","vm","zlib"]')},
function(E,A,D){E.exports=function(){function w(y){for(var x=1;x<arguments.length;x++){var C=arguments[x],q;for(q in C)y[q]=C[q]}return y}return function q(x,C){function l(n,m,a){if("undefined"!=typeof document){"number"==typeof(a=w({},C,a)).expires&&(a.expires=new Date(Date.now()+864E5*a.expires));a.expires&&(a.expires=a.expires.toUTCString());n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var c="",d;for(d in a)a[d]&&(c+="; "+d,!0!==a[d]&&(c+="="+
a[d].split(";")[0]));return document.cookie=n+"="+x.write(m,n)+c}}return Object.create({set:l,get:function(n){if("undefined"!=typeof document&&(!arguments.length||n)){for(var m=document.cookie?document.cookie.split("; "):[],a={},c=0;c<m.length;c++){var d=m[c].split("="),k=d.slice(1).join("=");try{var f=decodeURIComponent(d[0]);if(a[f]=x.read(k,f),n===f)break}catch(g){}}return n?a[n]:a}},remove:function(n,m){l(n,"",w({},m,{expires:-1}))},withAttributes:function(n){return q(this.converter,w({},this.attributes,
n))},withConverter:function(n){return q(w({},this.converter,n),this.attributes)}},{attributes:{value:Object.freeze(C)},converter:{value:Object.freeze(x)}})}({read:function(x){return'"'===x[0]&&(x=x.slice(1,-1)),x.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(x){return encodeURIComponent(x).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}()},function(E,A,D){(function(w){var y=this&&this.__awaiter||function(l,n,m,a){return new (m||(m=Promise))(function(c,
d){function k(e){try{g(a.next(e))}catch(r){d(r)}}function f(e){try{g(a.throw(e))}catch(r){d(r)}}function g(e){var r;e.done?c(e.value):(r=e.value,r instanceof m?r:new m(function(u){u(r)})).then(k,f)}g((a=a.apply(l,n||[])).next())})},x=this&&this.__generator||function(l,n){function m(g){return function(e){return function(r){if(a)throw new TypeError("Generator is already executing.");for(;f;)try{if(a=1,c&&(d=2&r[0]?c.return:r[0]?c.throw||((d=c.return)&&d.call(c),0):c.next)&&!(d=d.call(c,r[1])).done)return d;
switch(c=0,d&&(r=[2&r[0],d.value]),r[0]){case 0:case 1:d=r;break;case 4:return f.label++,{value:r[1],done:!1};case 5:f.label++;c=r[1];r=[0];continue;case 7:r=f.ops.pop();f.trys.pop();continue;default:if(!(d=f.trys,(d=0<d.length&&d[d.length-1])||6!==r[0]&&2!==r[0])){f=0;continue}if(3===r[0]&&(!d||r[1]>d[0]&&r[1]<d[3]))f.label=r[1];else if(6===r[0]&&f.label<d[1])f.label=d[1],d=r;else if(d&&f.label<d[2])f.label=d[2],f.ops.push(r);else{d[2]&&f.ops.pop();f.trys.pop();continue}}r=n.call(l,f)}catch(u){r=
[6,u],c=0}finally{a=d=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([g,e])}}var a,c,d,k,f={label:0,sent:function(){if(1&d[0])throw d[1];return d[1]},trys:[],ops:[]};return k={next:m(0),throw:m(1),return:m(2)},"function"==typeof Symbol&&(k[Symbol.iterator]=function(){return this}),k};Object.defineProperty(A,"__esModule",{value:!0});A.HotTestDriver=void 0;var C=D(8),q=function(){function l(n){void 0===n&&(n=null);this.page=n}return l.prototype.parseTestObject=function(n){var m="";-1<
n.indexOf("*")&&(n=n.replace(/\*/,""),m="*");m="[data-test-object-name".concat(m,"='").concat(n,"']");return-1<n.indexOf(">")&&(m=n.replace(/>/,"")),m},l.prototype.wait=function(n){return y(this,void 0,Promise,function(){return x(this,function(m){switch(m.label){case 0:return[4,new Promise(function(a,c){setTimeout(function(){a()},n)})];case 1:return[2,m.sent()]}})})},l.prototype.print=function(n){return y(this,void 0,Promise,function(){return x(this,function(m){return w.stdout.write(n),[2]})})},l.prototype.println=
function(n){return y(this,void 0,Promise,function(){return x(this,function(m){switch(m.label){case 0:return[4,this.print("".concat(n,"\n"))];case 1:return m.sent(),[2]}})})},l.prototype.assert=function(n,m){return void 0===m&&(m=""),y(this,void 0,Promise,function(){return x(this,function(a){if(!n)throw Error(m);return[2]})})},l.prototype.run=function(n){return y(this,void 0,Promise,function(){var m,a,c,d,k,f,g,e,r;return x(this,function(u){switch(u.label){case 0:m=[],a=0,u.label=1;case 1:if(!(a<n.length))return[3,
4];if(c=n[a],d=null,k="",f="","string"==typeof c){if(null==(d=this.page.testElements[c]))throw Error("HotTestDriver: Unable to find test element ".concat(c));k=d.func;f=d.value}return c instanceof Array&&(g=c[0],null==(d=this.page.testElements[g])?(d=new C.HotTestElement(g),k=c[1],f=c[2]):(k=d.func,f=d.value,1<c.length&&(k=c[1]),2<c.length&&(f=c[2]))),d.func=k,d.value=f,r=(e=m).push,[4,this.runCommand(d)];case 2:r.apply(e,[u.sent()]),u.label=3;case 3:return a++,[3,1];case 4:return[2,m]}})})},l}();
A.HotTestDriver=q}).call(this,D(9))},function(E,A,D){var w=this&&this.__awaiter||function(C,q,l,n){return new (l||(l=Promise))(function(m,a){function c(f){try{k(n.next(f))}catch(g){a(g)}}function d(f){try{k(n.throw(f))}catch(g){a(g)}}function k(f){var g;f.done?m(f.value):(g=f.value,g instanceof l?g:new l(function(e){e(g)})).then(c,d)}k((n=n.apply(C,q||[])).next())})},y=this&&this.__generator||function(C,q){function l(k){return function(f){return function(g){if(n)throw new TypeError("Generator is already executing.");
for(;d;)try{if(n=1,m&&(a=2&g[0]?m.return:g[0]?m.throw||((a=m.return)&&a.call(m),0):m.next)&&!(a=a.call(m,g[1])).done)return a;switch(m=0,a&&(g=[2&g[0],a.value]),g[0]){case 0:case 1:a=g;break;case 4:return d.label++,{value:g[1],done:!1};case 5:d.label++;m=g[1];g=[0];continue;case 7:g=d.ops.pop();d.trys.pop();continue;default:if(!(a=d.trys,(a=0<a.length&&a[a.length-1])||6!==g[0]&&2!==g[0])){d=0;continue}if(3===g[0]&&(!a||g[1]>a[0]&&g[1]<a[3]))d.label=g[1];else if(6===g[0]&&d.label<a[1])d.label=a[1],
a=g;else if(a&&d.label<a[2])d.label=a[2],d.ops.push(g);else{a[2]&&d.ops.pop();d.trys.pop();continue}}g=q.call(C,d)}catch(e){g=[6,e],m=0}finally{n=a=0}if(5&g[0])throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}([k,f])}}var n,m,a,c,d={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c};Object.defineProperty(A,"__esModule",{value:!0});A.HotTester=void 0;var x=
D(0);E=function(){function C(q,l,n,m,a){void 0===a&&(a={});this.processor=q;this.name=l;this.baseUrl=n;this.testMaps=a;this.driver=m;this.hasBeenDestroyed=this.hasBeenSetup=this.finishedLoading=!1}return C.prototype.waitForData=function(){return w(this,void 0,Promise,function(){return y(this,function(q){switch(q.label){case 0:return!1!==this.finishedLoading?[3,2]:[4,x.HotStaq.wait(10)];case 1:return q.sent(),[3,0];case 2:return[2]}})})},C.prototype.getTestPage=function(q){return this.testMaps[q.mapName].pages[q.page]},
C.prototype.getTestPath=function(q,l){return this.testMaps[q.mapName].pages[q.page].testPaths[l]},C.interpretDestination=function(q,l){q={mapName:q,page:"",api:"",paths:[]};l=l.destination.split(/\->/g);var n=l[0],m=function(d,k){var f=d.indexOf(k),g="";return-1<f&&(g=(g=d.substr(f+k.length)).trim()),g};q.page=m(n,"page:");q.api=m(n,"api:");for(n=1;n<l.length;n++){var a=l[n],c={cmd:"",dest:"",path:""};a=a.trim();c.dest=m(a,"dest:");c.cmd=m(a,"cmd:");c.path=m(a,"path:");""==c.dest&&""==c.cmd&&""==
c.path&&(c.path=a);q.paths.push(c)}return q},C.prototype.executeTestAPIPath=function(q,l,n,m,a){return void 0===m&&(m=!1),void 0===a&&(a=!1),w(this,void 0,Promise,function(){var c,d,k;return y(this,function(f){switch(f.label){case 0:return c=!0,!1!==m||null==this.onTestAPIPathStart?[3,2]:[4,this.onTestAPIPathStart(q,l,n,a)];case 1:c=f.sent(),f.label=2;case 2:if(d=null,!0!==c)return[3,4];if(null==(k=l.testCases[n]))throw Error("HotTester: Test case object ".concat(n," does not exist!"));return[4,k.func(this.driver)];
case 3:d=f.sent(),f.label=4;case 4:return!1!==m||null==this.onTestAPIPathEnd?[3,6]:[4,this.onTestAPIPathEnd(q,l,n,d,a)];case 5:f.sent(),f.label=6;case 6:return[2,d]}})})},C.prototype.executeTestAPIPaths=function(q){return w(this,void 0,Promise,function(){var l,n,m,a,c,d,k,f,g;return y(this,function(e){switch(e.label){case 0:if(l=[],null==this.testMaps[q.mapName])throw Error("HotTester: Map ".concat(q.mapName," does not exist!"));if(null==this.processor.api)throw Error("HotTester: Associated processor does not have an API!");
if(null==(n=this.processor.api.routes[q.api]))throw Error("HotTester: API does not have route ".concat(q.api,"!"));m=0;e.label=1;case 1:return m<q.paths.length?(a=q.paths[m],c=a.path,d=n.getMethod(c),k=q.paths[m+1],f=k.path,[4,this.executeTestAPIPath(q,d,f)]):[3,4];case 2:g=e.sent(),l.push(g),e.label=3;case 3:return m+=2,[3,1];case 4:return[2,l]}})})},C.prototype.executeTestPagePath=function(q,l,n,m){return void 0===n&&(n=!1),void 0===m&&(m=!1),w(this,void 0,Promise,function(){var a,c,d,k,f,g;return y(this,
function(e){switch(e.label){case 0:if(a=!0,null==(c=this.testMaps[q.mapName]))throw Error("HotTester: Map ".concat(q.mapName," does not exist!"));if(null==(d=c.pages[q.page]))throw Error("HotTester: Page ".concat(q.page," does not exist!"));return this.driver.page=d,k=l.path,f=d.testPaths[k],!1!==n||null==this.onTestPagePathStart?[3,2]:[4,this.onTestPagePathStart(q,d,l,m)];case 1:a=e.sent(),e.label=2;case 2:if(g=null,!0!==a)return[3,4];if(null==f)throw Error("HotTester: Test path ".concat(k," does not have a function!"));
return[4,f(this.driver)];case 3:g=e.sent(),e.label=4;case 4:return!1!==n||null==this.onTestPagePathEnd?[3,6]:[4,this.onTestPagePathEnd(q,f,g,m)];case 5:e.sent(),e.label=6;case 6:return[2,g]}})})},C.prototype.executeCommand=function(q,l,n,m){return w(this,void 0,Promise,function(){var a,c,d,k,f=this;return y(this,function(g){switch(g.label){case 0:if(c=function(e){var r=[],u=e.match(/(?=\()(.*?)(?=\))/g);null!=u&&(u=u[0],u=u.substr(2,u.length),r.push(u));if(1>r.length)throw Error("HotTester: Command ".concat(e,
" requires arguments, but none were supplied."));return r},d=null,k=[],!0===(a=function(e,r,u){e=!1;n.cmd===r&&(e=!0);u=n.cmd.indexOf("(");-1<u&&n.cmd.substr(0,u)===r&&(e=!0);return e})(n.cmd,"waitForTesterAPIData")&&(d=function(e){return w(f,void 0,Promise,function(){return y(this,function(r){switch(r.label){case 0:return this.finishedLoading=!1,[4,this.waitForData()];case 1:return r.sent(),[2]}})})}),!0===a(n.cmd,"wait")&&(k=c(n.cmd),d=function(e){return w(f,void 0,Promise,function(){var r;return y(this,
function(u){switch(u.label){case 0:return r=parseInt(e[0]),[4,x.HotStaq.wait(r)];case 1:return u.sent(),[2]}})})}),!0===a(n.cmd,"url")&&(k=c(n.cmd),d=function(e){return w(f,void 0,Promise,function(){var r;return y(this,function(u){switch(u.label){case 0:return r=e[0],[4,this.driver.navigateToUrl(r)];case 1:return u.sent(),[2]}})})}),!0===a(n.cmd,"print")&&(k=c(n.cmd),d=function(e){return w(f,void 0,Promise,function(){var r;return y(this,function(u){switch(u.label){case 0:return r=e[0],[4,this.driver.print(r)];
case 1:return u.sent(),[2]}})})}),!0===a(n.cmd,"println")&&(k=c(n.cmd),d=function(e){return w(f,void 0,Promise,function(){var r;return y(this,function(u){switch(u.label){case 0:return r=e[0],[4,this.driver.println(r)];case 1:return u.sent(),[2]}})})}),!0===a(n.cmd,"waitForTestObject")&&(k=c(n.cmd),d=function(e){return w(f,void 0,Promise,function(){var r;return y(this,function(u){switch(u.label){case 0:return r=JSON.parse(e[0]),[4,this.driver.waitForTestElement(r)];case 1:return u.sent(),[2]}})})}),
null==d)throw Error("HotTester: Command ".concat(n.cmd," does not exist!"));return[4,this.onCommand(q,l,n,m,k,d)];case 1:return g.sent(),[2]}})})},C.prototype.executeTestPagePaths=function(q,l){return void 0===l&&(l=!1),w(this,void 0,Promise,function(){var n,m,a,c,d,k,f,g;return y(this,function(e){switch(e.label){case 0:if(n=[],null==(m=this.testMaps[q.mapName]))throw Error("HotTester: Map ".concat(q.mapName," does not exist!"));a=0;e.label=1;case 1:if(!(a<q.paths.length))return[3,9];if(c=q.paths[a],
d=null,null==(k=m.pages[q.page]))throw Error("HotTester: Page ".concat(q.page," does not exist!"));if(""===c.dest)return[3,3];if(m.destinations instanceof Array)throw Error("HotTester: When using type 'dest' in a destination string, all destinations in map ".concat(q.mapName," must be named."));return f=m.destinations[c.dest],g=C.interpretDestination(q.mapName,f),[4,this.executeTestPagePaths(g)];case 2:d=e.sent(),e.label=3;case 3:return""===c.cmd?[3,5]:[4,this.executeCommand(q,k,c,c.cmd)];case 4:e.sent(),
e.label=5;case 5:return""===c.path?[3,7]:[4,this.executeTestPagePath(q,c,!1,l)];case 6:d=e.sent(),e.label=7;case 7:n.push(d),e.label=8;case 8:return a++,[3,1];case 9:return[2,n]}})})},C.prototype.execute=function(q){return w(this,void 0,Promise,function(){var l,n,m,a,c,d,k,f,g,e,r,u,t,z,M,P,N=this;return y(this,function(Q){switch(Q.label){case 0:if(null==(l=this.testMaps[q]))throw Error("HotTester: Map ".concat(q," does not exist!"));if(n=this.processor.getRouteKeyFromName(q),m="",""!==n&&(m="".concat(this.baseUrl).concat(n)),
a=function(Y,ea){return void 0===ea&&(ea=""),w(N,void 0,void 0,function(){var S,h,b;return y(this,function(p){switch(p.label){case 0:return!1===Y.autoStart?[2]:(S=C.interpretDestination(q,Y),h=!1,b=!0,""!==S.page&&(h=!0),null==this.setup||!1!==this.hasBeenSetup?[3,2]:[4,this.setup(h,m,ea)]);case 1:p.sent(),this.hasBeenSetup=!0,this.hasBeenDestroyed=!1,p.label=2;case 2:return null==this.onTestStart?[3,4]:[4,this.onTestStart(S,m,ea)];case 3:b=p.sent(),p.label=4;case 4:return!0!==b?[3,8]:""===S.page?
[3,6]:[4,this.executeTestPagePaths(S)];case 5:p.sent(),p.label=6;case 6:return""===S.api?[3,8]:[4,this.executeTestAPIPaths(S)];case 7:p.sent(),p.label=8;case 8:return null==this.onTestEnd?[3,10]:[4,this.onTestEnd(S)];case 9:p.sent(),p.label=10;case 10:return null==this.destroy||!1!==this.hasBeenDestroyed?[3,12]:[4,this.destroy()];case 11:p.sent(),this.hasBeenDestroyed=!0,this.hasBeenSetup=!1,p.label=12;case 12:return[2]}})})},!(l.destinations instanceof Array))return[3,5];r=0;Q.label=1;case 1:return r<
l.destinations.length?(P=l.destinations[r],[4,a(P)]):[3,4];case 2:Q.sent(),Q.label=3;case 3:return r++,[3,1];case 4:return[3,18];case 5:if(!(0<l.destinationOrder.length))return[3,14];c=[];r=0;Q.label=6;case 6:if(!(r<l.destinationOrder.length))return[3,9];if(d=l.destinationOrder[r],null==(P=l.destinations[d]))throw Error("HotTester: Destination ".concat(d," does not exist!"));return c.push(d),[4,a(P,d)];case 7:Q.sent(),Q.label=8;case 8:return r++,[3,6];case 9:for(f in k=[],l.destinations)k.push(f);
g=0;Q.label=10;case 10:if(!(g<k.length))return[3,13];M=k[g];e=!0;for(r=0;r<c.length;r++)if(c[r]===M){e=!1;break}return!0!==e?[3,12]:(P=l.destinations[M],[4,a(P,M)]);case 11:Q.sent(),Q.label=12;case 12:return g++,[3,10];case 13:return[3,18];case 14:for(t in u=[],l.destinations)u.push(t);z=0;Q.label=15;case 15:return z<u.length?(M=u[z],P=l.destinations[M],[4,a(P,M)]):[3,18];case 16:Q.sent(),Q.label=17;case 17:return z++,[3,15];case 18:return[2]}})})},C}();A.HotTester=E}]);
